ARM GAS  /tmp/ccHy1qSD.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"arm_softmax_q7.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.arm_softmax_q7,"ax",%progbits
  17              		.align	1
  18              		.global	arm_softmax_q7
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	arm_softmax_q7:
  26              	.LFB149:
  27              		.file 1 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c"
   1:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** /*
   2:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Copyright (C) 2010-2018 Arm Limited or its affiliates. All rights reserved.
   3:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
   4:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * SPDX-License-Identifier: Apache-2.0
   5:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
   6:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Licensed under the Apache License, Version 2.0 (the License); you may
   7:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * not use this file except in compliance with the License.
   8:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * You may obtain a copy of the License at
   9:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  10:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * www.apache.org/licenses/LICENSE-2.0
  11:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  12:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Unless required by applicable law or agreed to in writing, software
  13:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  14:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * See the License for the specific language governing permissions and
  16:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * limitations under the License.
  17:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  */
  18:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  19:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** /* ----------------------------------------------------------------------
  20:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Project:      CMSIS NN Library
  21:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Title:        arm_softmax_q7.c
  22:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Description:  Q7 softmax function
  23:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  24:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * $Date:        20. February 2018
  25:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * $Revision:    V.1.0.0
  26:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  27:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Target Processor:  Cortex-M cores
  28:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  29:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * -------------------------------------------------------------------- */
  30:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  31:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** #include "arm_math.h"
ARM GAS  /tmp/ccHy1qSD.s 			page 2


  32:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** #include "arm_nnfunctions.h"
  33:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  34:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** /**
  35:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *  @ingroup groupNN
  36:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  */
  37:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  38:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** /**
  39:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * @addtogroup Softmax
  40:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * @{
  41:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  */
  42:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  43:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****   /**
  44:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @brief Q7 softmax function
  45:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @param[in]       vec_in      pointer to input vector
  46:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @param[in]       dim_vec     input vector dimention
  47:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @param[out]      p_out       pointer to output vector
  48:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @return none.
  49:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *
  50:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @details
  51:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *
  52:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  Here, instead of typical natural logarithm e based softmax, we use
  53:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  2-based softmax here, i.e.,:
  54:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * 
  55:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  y_i = 2^(x_i) / sum(2^x_j)
  56:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *
  57:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  The relative output will be different here.
  58:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  But mathematically, the gradient will be the same
  59:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  with a log(2) scaling factor.
  60:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *
  61:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    */
  62:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  63:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** void arm_softmax_q7(const q7_t * vec_in, const uint16_t dim_vec, q7_t * p_out)
  64:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** {
  28              		.loc 1 64 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 56
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33 0000 80B4     		push	{r7}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 7, -4
  37 0002 8FB0     		sub	sp, sp, #60
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 64
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 F860     		str	r0, [r7, #12]
  44 0008 0B46     		mov	r3, r1
  45 000a 7A60     		str	r2, [r7, #4]
  46 000c 7B81     		strh	r3, [r7, #10]	@ movhi
  65:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     q31_t     sum;
  66:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     int16_t   i;
  67:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     uint8_t   shift;
  68:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     q15_t     base;
  69:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     base = -257;
ARM GAS  /tmp/ccHy1qSD.s 			page 3


  47              		.loc 1 69 10
  48 000e 4FF6FF63 		movw	r3, #65279
  49 0012 3B86     		strh	r3, [r7, #48]	@ movhi
  70:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  71:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     /* We first search for the maximum */
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     for (i = 0; i < dim_vec; i++)
  50              		.loc 1 72 12
  51 0014 0023     		movs	r3, #0
  52 0016 7B86     		strh	r3, [r7, #50]	@ movhi
  53              		.loc 1 72 5
  54 0018 17E0     		b	.L2
  55              	.L4:
  73:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  74:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         if (vec_in[i] > base)
  56              		.loc 1 74 19
  57 001a B7F93230 		ldrsh	r3, [r7, #50]
  58 001e FA68     		ldr	r2, [r7, #12]
  59 0020 1344     		add	r3, r3, r2
  60 0022 93F90030 		ldrsb	r3, [r3]
  61 0026 1BB2     		sxth	r3, r3
  62              		.loc 1 74 12
  63 0028 B7F93020 		ldrsh	r2, [r7, #48]
  64 002c 9A42     		cmp	r2, r3
  65 002e 06DA     		bge	.L3
  75:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
  76:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             base = vec_in[i];
  66              		.loc 1 76 26
  67 0030 B7F93230 		ldrsh	r3, [r7, #50]
  68 0034 FA68     		ldr	r2, [r7, #12]
  69 0036 1344     		add	r3, r3, r2
  70 0038 93F90030 		ldrsb	r3, [r3]
  71              		.loc 1 76 18
  72 003c 3B86     		strh	r3, [r7, #48]	@ movhi
  73              	.L3:
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  74              		.loc 1 72 31 discriminator 2
  75 003e B7F93230 		ldrsh	r3, [r7, #50]
  76 0042 9BB2     		uxth	r3, r3
  77 0044 0133     		adds	r3, r3, #1
  78 0046 9BB2     		uxth	r3, r3
  79 0048 7B86     		strh	r3, [r7, #50]	@ movhi
  80              	.L2:
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  81              		.loc 1 72 19 discriminator 1
  82 004a B7F93220 		ldrsh	r2, [r7, #50]
  83 004e 7B89     		ldrh	r3, [r7, #10]
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  84              		.loc 1 72 5 discriminator 1
  85 0050 9A42     		cmp	r2, r3
  86 0052 E2DB     		blt	.L4
  77:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         }
  78:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     }
  79:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  80:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     /* 
  81:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * So the base is set to max-8, meaning 
  82:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * that we ignore really small values. 
  83:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * anyway, they will be 0 after shrinking to q7_t.
ARM GAS  /tmp/ccHy1qSD.s 			page 4


  84:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      */
  85:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     base = base - 8;
  87              		.loc 1 85 17
  88 0054 3B8E     		ldrh	r3, [r7, #48]
  89 0056 083B     		subs	r3, r3, #8
  90 0058 9BB2     		uxth	r3, r3
  91              		.loc 1 85 10
  92 005a 3B86     		strh	r3, [r7, #48]	@ movhi
  86:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  87:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     sum = 0;
  93              		.loc 1 87 9
  94 005c 0023     		movs	r3, #0
  95 005e 7B63     		str	r3, [r7, #52]
  88:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     for (i = 0; i < dim_vec; i++)
  96              		.loc 1 89 12
  97 0060 0023     		movs	r3, #0
  98 0062 7B86     		strh	r3, [r7, #50]	@ movhi
  99              		.loc 1 89 5
 100 0064 2AE0     		b	.L5
 101              	.L7:
  90:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  91:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         if (vec_in[i] > base) 
 102              		.loc 1 91 19
 103 0066 B7F93230 		ldrsh	r3, [r7, #50]
 104 006a FA68     		ldr	r2, [r7, #12]
 105 006c 1344     		add	r3, r3, r2
 106 006e 93F90030 		ldrsb	r3, [r3]
 107 0072 1BB2     		sxth	r3, r3
 108              		.loc 1 91 12
 109 0074 B7F93020 		ldrsh	r2, [r7, #48]
 110 0078 9A42     		cmp	r2, r3
 111 007a 19DA     		bge	.L6
 112              	.LBB2:
  92:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             shift = (uint8_t)__USAT(vec_in[i] - base, 5);
 113              		.loc 1 93 30
 114 007c B7F93230 		ldrsh	r3, [r7, #50]
 115 0080 FA68     		ldr	r2, [r7, #12]
 116 0082 1344     		add	r3, r3, r2
 117 0084 93F90030 		ldrsb	r3, [r3]
 118 0088 1A46     		mov	r2, r3
 119 008a B7F93030 		ldrsh	r3, [r7, #48]
 120 008e D31A     		subs	r3, r2, r3
 121 0090 7B61     		str	r3, [r7, #20]
 122 0092 7B69     		ldr	r3, [r7, #20]
 123              		.syntax unified
 124              	@ 93 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c" 1
 125 0094 83F30503 		usat r3, #5, r3
 126              	@ 0 "" 2
 127              		.thumb
 128              		.syntax unified
 129 0098 3B61     		str	r3, [r7, #16]
 130 009a 3B69     		ldr	r3, [r7, #16]
 131              	.LBE2:
 132              		.loc 1 93 19
 133 009c 87F82330 		strb	r3, [r7, #35]
ARM GAS  /tmp/ccHy1qSD.s 			page 5


  94:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             sum += 0x1 << shift;
 134              		.loc 1 94 24
 135 00a0 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 136 00a4 0122     		movs	r2, #1
 137 00a6 02FA03F3 		lsl	r3, r2, r3
 138              		.loc 1 94 17
 139 00aa 7A6B     		ldr	r2, [r7, #52]
 140 00ac 1344     		add	r3, r3, r2
 141 00ae 7B63     		str	r3, [r7, #52]
 142              	.L6:
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 143              		.loc 1 89 31 discriminator 2
 144 00b0 B7F93230 		ldrsh	r3, [r7, #50]
 145 00b4 9BB2     		uxth	r3, r3
 146 00b6 0133     		adds	r3, r3, #1
 147 00b8 9BB2     		uxth	r3, r3
 148 00ba 7B86     		strh	r3, [r7, #50]	@ movhi
 149              	.L5:
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 150              		.loc 1 89 19 discriminator 1
 151 00bc B7F93220 		ldrsh	r2, [r7, #50]
 152 00c0 7B89     		ldrh	r3, [r7, #10]
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 153              		.loc 1 89 5 discriminator 1
 154 00c2 9A42     		cmp	r2, r3
 155 00c4 CFDB     		blt	.L7
  95:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         }
  96:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     }
  97:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  98:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     /* This is effectively (0x1 << 20) / sum */
  99:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     int output_base = 0x100000 / sum;
 156              		.loc 1 99 9
 157 00c6 4FF48012 		mov	r2, #1048576
 158 00ca 7B6B     		ldr	r3, [r7, #52]
 159 00cc 92FBF3F3 		sdiv	r3, r2, r3
 160 00d0 FB62     		str	r3, [r7, #44]
 100:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
 101:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     /* 
 102:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * Final confidence will be output_base >> ( 13 - (vec_in[i] - base) )
 103:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * so 128 (0x1<<7) -> 100% confidence when sum = 0x1 << 8, output_base = 0x1 << 12 
 104:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * and vec_in[i]-base = 8
 105:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      */
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     for (i = 0; i < dim_vec; i++) 
 161              		.loc 1 106 12
 162 00d2 0023     		movs	r3, #0
 163 00d4 7B86     		strh	r3, [r7, #50]	@ movhi
 164              		.loc 1 106 5
 165 00d6 3AE0     		b	.L8
 166              	.L11:
 107:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 108:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         if (vec_in[i] > base) 
 167              		.loc 1 108 19
 168 00d8 B7F93230 		ldrsh	r3, [r7, #50]
 169 00dc FA68     		ldr	r2, [r7, #12]
 170 00de 1344     		add	r3, r3, r2
 171 00e0 93F90030 		ldrsb	r3, [r3]
 172 00e4 1BB2     		sxth	r3, r3
ARM GAS  /tmp/ccHy1qSD.s 			page 6


 173              		.loc 1 108 12
 174 00e6 B7F93020 		ldrsh	r2, [r7, #48]
 175 00ea 9A42     		cmp	r2, r3
 176 00ec 23DA     		bge	.L9
 177              	.LBB3:
 109:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
 110:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             /* Here minimum value of 13+base-vec_in[i] will be 5 */
 111:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             shift = (uint8_t)__USAT(13+base-vec_in[i], 5);
 178              		.loc 1 111 30
 179 00ee B7F93030 		ldrsh	r3, [r7, #48]
 180 00f2 0D33     		adds	r3, r3, #13
 181 00f4 B7F93220 		ldrsh	r2, [r7, #50]
 182 00f8 F968     		ldr	r1, [r7, #12]
 183 00fa 0A44     		add	r2, r2, r1
 184 00fc 92F90020 		ldrsb	r2, [r2]
 185 0100 9B1A     		subs	r3, r3, r2
 186 0102 BB62     		str	r3, [r7, #40]
 187 0104 BB6A     		ldr	r3, [r7, #40]
 188              		.syntax unified
 189              	@ 111 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c" 1
 190 0106 83F30503 		usat r3, #5, r3
 191              	@ 0 "" 2
 192              		.thumb
 193              		.syntax unified
 194 010a 7B62     		str	r3, [r7, #36]
 195 010c 7B6A     		ldr	r3, [r7, #36]
 196              	.LBE3:
 197              		.loc 1 111 19
 198 010e 87F82330 		strb	r3, [r7, #35]
 199              	.LBB4:
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = (q7_t) __SSAT((output_base >> shift), 8);
 200              		.loc 1 112 31
 201 0112 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 202 0116 FA6A     		ldr	r2, [r7, #44]
 203 0118 42FA03F3 		asr	r3, r2, r3
 204 011c FB61     		str	r3, [r7, #28]
 205 011e FB69     		ldr	r3, [r7, #28]
 206              		.syntax unified
 207              	@ 112 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c" 1
 208 0120 03F30703 		ssat r3, #8, r3
 209              	@ 0 "" 2
 210              		.thumb
 211              		.syntax unified
 212 0124 BB61     		str	r3, [r7, #24]
 213 0126 B969     		ldr	r1, [r7, #24]
 214              	.LBE4:
 215              		.loc 1 112 18
 216 0128 B7F93230 		ldrsh	r3, [r7, #50]
 217 012c 7A68     		ldr	r2, [r7, #4]
 218 012e 1344     		add	r3, r3, r2
 219              		.loc 1 112 24
 220 0130 4AB2     		sxtb	r2, r1
 221              		.loc 1 112 22
 222 0132 1A70     		strb	r2, [r3]
 223 0134 05E0     		b	.L10
 224              	.L9:
 113:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
ARM GAS  /tmp/ccHy1qSD.s 			page 7


 114:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = 0;
 225              		.loc 1 114 18
 226 0136 B7F93230 		ldrsh	r3, [r7, #50]
 227 013a 7A68     		ldr	r2, [r7, #4]
 228 013c 1344     		add	r3, r3, r2
 229              		.loc 1 114 22
 230 013e 0022     		movs	r2, #0
 231 0140 1A70     		strb	r2, [r3]
 232              	.L10:
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 233              		.loc 1 106 31 discriminator 2
 234 0142 B7F93230 		ldrsh	r3, [r7, #50]
 235 0146 9BB2     		uxth	r3, r3
 236 0148 0133     		adds	r3, r3, #1
 237 014a 9BB2     		uxth	r3, r3
 238 014c 7B86     		strh	r3, [r7, #50]	@ movhi
 239              	.L8:
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 240              		.loc 1 106 19 discriminator 1
 241 014e B7F93220 		ldrsh	r2, [r7, #50]
 242 0152 7B89     		ldrh	r3, [r7, #10]
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 243              		.loc 1 106 5 discriminator 1
 244 0154 9A42     		cmp	r2, r3
 245 0156 BFDB     		blt	.L11
 115:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         }
 116:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     }
 117:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** }
 246              		.loc 1 117 1
 247 0158 00BF     		nop
 248 015a 00BF     		nop
 249 015c 3C37     		adds	r7, r7, #60
 250              	.LCFI3:
 251              		.cfi_def_cfa_offset 4
 252 015e BD46     		mov	sp, r7
 253              	.LCFI4:
 254              		.cfi_def_cfa_register 13
 255              		@ sp needed
 256 0160 5DF8047B 		ldr	r7, [sp], #4
 257              	.LCFI5:
 258              		.cfi_restore 7
 259              		.cfi_def_cfa_offset 0
 260 0164 7047     		bx	lr
 261              		.cfi_endproc
 262              	.LFE149:
 264              		.text
 265              	.Letext0:
 266              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 267              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 268              		.file 4 "/usr/include/newlib/sys/_types.h"
 269              		.file 5 "/usr/include/newlib/sys/reent.h"
 270              		.file 6 "/usr/include/newlib/sys/lock.h"
 271              		.file 7 "/usr/include/newlib/math.h"
 272              		.file 8 "./Libraries/CMSIS/DSP/Include/arm_math.h"
 273              		.file 9 "./Libraries/CMSIS/DSP/Include/arm_common_tables.h"
 274              		.file 10 "./Libraries/CMSIS/NN/Include/arm_nn_tables.h"
ARM GAS  /tmp/ccHy1qSD.s 			page 8


DEFINED SYMBOLS
                            *ABS*:0000000000000000 arm_softmax_q7.c
     /tmp/ccHy1qSD.s:17     .text.arm_softmax_q7:0000000000000000 $t
     /tmp/ccHy1qSD.s:25     .text.arm_softmax_q7:0000000000000000 arm_softmax_q7

NO UNDEFINED SYMBOLS
