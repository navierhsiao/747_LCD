ARM GAS  /tmp/cc3byGRl.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"arm_softmax_q15.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.global	__aeabi_ldivmod
  17              		.section	.text.arm_softmax_q15,"ax",%progbits
  18              		.align	1
  19              		.global	arm_softmax_q15
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	arm_softmax_q15:
  27              	.LFB149:
  28              		.file 1 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c"
   1:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** /*
   2:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * Copyright (C) 2010-2018 Arm Limited or its affiliates. All rights reserved.
   3:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  *
   4:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * SPDX-License-Identifier: Apache-2.0
   5:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  *
   6:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * Licensed under the Apache License, Version 2.0 (the License); you may
   7:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * not use this file except in compliance with the License.
   8:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * You may obtain a copy of the License at
   9:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  *
  10:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * www.apache.org/licenses/LICENSE-2.0
  11:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  *
  12:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * Unless required by applicable law or agreed to in writing, software
  13:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  14:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * See the License for the specific language governing permissions and
  16:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * limitations under the License.
  17:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  */
  18:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  19:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** /* ----------------------------------------------------------------------
  20:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * Project:      CMSIS NN Library
  21:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * Title:        arm_softmax_q15.c
  22:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * Description:  Q15 softmax function
  23:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  *
  24:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * $Date:        20. February 2018
  25:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * $Revision:    V.1.0.0
  26:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  *
  27:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * Target Processor:  Cortex-M cores
  28:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  *
  29:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * -------------------------------------------------------------------- */
  30:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
ARM GAS  /tmp/cc3byGRl.s 			page 2


  31:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** #include "arm_math.h"
  32:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** #include "arm_nnfunctions.h"
  33:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  34:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** /**
  35:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  *  @ingroup groupNN
  36:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  */
  37:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  38:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** /**
  39:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * @addtogroup Softmax
  40:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  * @{
  41:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****  */
  42:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  43:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****   /**
  44:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    * @brief Q15 softmax function
  45:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    * @param[in]       vec_in      pointer to input vector
  46:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    * @param[in]       dim_vec     input vector dimention
  47:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    * @param[out]      p_out       pointer to output vector
  48:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    * @return none.
  49:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *
  50:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    * @details
  51:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *
  52:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *  Here, instead of typical e based softmax, we use
  53:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *  2-based softmax, i.e.,:
  54:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *
  55:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *  y_i = 2^(x_i) / sum(2^x_j)
  56:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *
  57:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *  The relative output will be different here.
  58:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *  But mathematically, the gradient will be the same
  59:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *  with a log(2) scaling factor.
  60:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    *
  61:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****    */
  62:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  63:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** void arm_softmax_q15(const q15_t * vec_in, const uint16_t dim_vec, q15_t * p_out)
  64:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** {
  29              		.loc 1 64 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 72
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 92B0     		sub	sp, sp, #72
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 80
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 F860     		str	r0, [r7, #12]
  45 0008 0B46     		mov	r3, r1
  46 000a 7A60     		str	r2, [r7, #4]
  47 000c 7B81     		strh	r3, [r7, #10]	@ movhi
  65:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     q31_t     sum;
  66:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     int16_t   i;
  67:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     uint8_t   shift;
  68:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     q31_t     base;
ARM GAS  /tmp/cc3byGRl.s 			page 3


  69:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     base = -1 * 0x100000;
  48              		.loc 1 69 10
  49 000e 5E4B     		ldr	r3, .L12
  50 0010 FB63     		str	r3, [r7, #60]
  70:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     for (i = 0; i < dim_vec; i++)
  51              		.loc 1 70 12
  52 0012 0023     		movs	r3, #0
  53 0014 A7F84230 		strh	r3, [r7, #66]	@ movhi
  54              		.loc 1 70 5
  55 0018 19E0     		b	.L2
  56              	.L4:
  71:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         if (vec_in[i] > base)
  57              		.loc 1 72 19
  58 001a B7F94230 		ldrsh	r3, [r7, #66]
  59 001e 5B00     		lsls	r3, r3, #1
  60 0020 FA68     		ldr	r2, [r7, #12]
  61 0022 1344     		add	r3, r3, r2
  62 0024 B3F90030 		ldrsh	r3, [r3]
  63 0028 1A46     		mov	r2, r3
  64              		.loc 1 72 12
  65 002a FB6B     		ldr	r3, [r7, #60]
  66 002c 9342     		cmp	r3, r2
  67 002e 07DA     		bge	.L3
  73:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         {
  74:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****             base = vec_in[i];
  68              		.loc 1 74 26
  69 0030 B7F94230 		ldrsh	r3, [r7, #66]
  70 0034 5B00     		lsls	r3, r3, #1
  71 0036 FA68     		ldr	r2, [r7, #12]
  72 0038 1344     		add	r3, r3, r2
  73 003a B3F90030 		ldrsh	r3, [r3]
  74              		.loc 1 74 18
  75 003e FB63     		str	r3, [r7, #60]
  76              	.L3:
  70:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
  77              		.loc 1 70 31 discriminator 2
  78 0040 B7F94230 		ldrsh	r3, [r7, #66]
  79 0044 9BB2     		uxth	r3, r3
  80 0046 0133     		adds	r3, r3, #1
  81 0048 9BB2     		uxth	r3, r3
  82 004a A7F84230 		strh	r3, [r7, #66]	@ movhi
  83              	.L2:
  70:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
  84              		.loc 1 70 19 discriminator 1
  85 004e B7F94220 		ldrsh	r2, [r7, #66]
  86 0052 7B89     		ldrh	r3, [r7, #10]
  70:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
  87              		.loc 1 70 5 discriminator 1
  88 0054 9A42     		cmp	r2, r3
  89 0056 E0DB     		blt	.L4
  75:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         }
  76:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     }
  77:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  78:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     /* we ignore really small values  
  79:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****      * anyway, they will be 0 after shrinking
  80:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****      * to q15_t
ARM GAS  /tmp/cc3byGRl.s 			page 4


  81:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****      */
  82:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     base = base - 16;
  90              		.loc 1 82 10
  91 0058 FB6B     		ldr	r3, [r7, #60]
  92 005a 103B     		subs	r3, r3, #16
  93 005c FB63     		str	r3, [r7, #60]
  83:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  84:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     sum = 0;
  94              		.loc 1 84 9
  95 005e 0023     		movs	r3, #0
  96 0060 7B64     		str	r3, [r7, #68]
  85:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  86:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     for (i = 0; i < dim_vec; i++)
  97              		.loc 1 86 12
  98 0062 0023     		movs	r3, #0
  99 0064 A7F84230 		strh	r3, [r7, #66]	@ movhi
 100              		.loc 1 86 5
 101 0068 2BE0     		b	.L5
 102              	.L7:
  87:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
  88:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         if (vec_in[i] > base)
 103              		.loc 1 88 19
 104 006a B7F94230 		ldrsh	r3, [r7, #66]
 105 006e 5B00     		lsls	r3, r3, #1
 106 0070 FA68     		ldr	r2, [r7, #12]
 107 0072 1344     		add	r3, r3, r2
 108 0074 B3F90030 		ldrsh	r3, [r3]
 109 0078 1A46     		mov	r2, r3
 110              		.loc 1 88 12
 111 007a FB6B     		ldr	r3, [r7, #60]
 112 007c 9342     		cmp	r3, r2
 113 007e 19DA     		bge	.L6
 114              	.LBB2:
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         {
  90:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****             shift = (uint8_t)__USAT(vec_in[i] - base, 5);
 115              		.loc 1 90 30
 116 0080 B7F94230 		ldrsh	r3, [r7, #66]
 117 0084 5B00     		lsls	r3, r3, #1
 118 0086 FA68     		ldr	r2, [r7, #12]
 119 0088 1344     		add	r3, r3, r2
 120 008a B3F90030 		ldrsh	r3, [r3]
 121 008e 1A46     		mov	r2, r3
 122 0090 FB6B     		ldr	r3, [r7, #60]
 123 0092 D31A     		subs	r3, r2, r3
 124 0094 7B61     		str	r3, [r7, #20]
 125 0096 7B69     		ldr	r3, [r7, #20]
 126              		.syntax unified
 127              	@ 90 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c" 1
 128 0098 83F30503 		usat r3, #5, r3
 129              	@ 0 "" 2
 130              		.thumb
 131              		.syntax unified
 132 009c 3B61     		str	r3, [r7, #16]
 133 009e 3B69     		ldr	r3, [r7, #16]
 134              	.LBE2:
 135              		.loc 1 90 19
 136 00a0 87F82330 		strb	r3, [r7, #35]
ARM GAS  /tmp/cc3byGRl.s 			page 5


  91:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****             sum += 0x1 << shift;
 137              		.loc 1 91 24
 138 00a4 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 139 00a8 0122     		movs	r2, #1
 140 00aa 02FA03F3 		lsl	r3, r2, r3
 141              		.loc 1 91 17
 142 00ae 7A6C     		ldr	r2, [r7, #68]
 143 00b0 1344     		add	r3, r3, r2
 144 00b2 7B64     		str	r3, [r7, #68]
 145              	.L6:
  86:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
 146              		.loc 1 86 31 discriminator 2
 147 00b4 B7F94230 		ldrsh	r3, [r7, #66]
 148 00b8 9BB2     		uxth	r3, r3
 149 00ba 0133     		adds	r3, r3, #1
 150 00bc 9BB2     		uxth	r3, r3
 151 00be A7F84230 		strh	r3, [r7, #66]	@ movhi
 152              	.L5:
  86:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
 153              		.loc 1 86 19 discriminator 1
 154 00c2 B7F94220 		ldrsh	r2, [r7, #66]
 155 00c6 7B89     		ldrh	r3, [r7, #10]
  86:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
 156              		.loc 1 86 5 discriminator 1
 157 00c8 9A42     		cmp	r2, r3
 158 00ca CEDB     		blt	.L7
  92:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         }
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     }
  94:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  95:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     /* This is effectively (0x1 << 32) / sum */
  96:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     int64_t div_base = 0x100000000LL;
 159              		.loc 1 96 13
 160 00cc 4FF00002 		mov	r2, #0
 161 00d0 4FF00103 		mov	r3, #1
 162 00d4 C7E90C23 		strd	r2, [r7, #48]
  97:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     int output_base = (int32_t)(div_base / sum);
 163              		.loc 1 97 42
 164 00d8 7B6C     		ldr	r3, [r7, #68]
 165 00da 1A46     		mov	r2, r3
 166 00dc 4FEAE273 		asr	r3, r2, #31
 167 00e0 D7E90C01 		ldrd	r0, [r7, #48]
 168 00e4 FFF7FEFF 		bl	__aeabi_ldivmod
 169              	.LVL0:
 170 00e8 0246     		mov	r2, r0
 171 00ea 0B46     		mov	r3, r1
 172              		.loc 1 97 9
 173 00ec 1346     		mov	r3, r2
 174 00ee FB62     		str	r3, [r7, #44]
  98:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
  99:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     /* Final confidence will be output_base >> ( 17 - (vec_in[i] - base) )
 100:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****      * so 32768 (0x1<<15) -> 100% confidence when sum = 0x1 << 16, output_base = 0x1 << 16
 101:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****      * and vec_in[i]-base = 16
 102:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****      */
 103:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     for (i = 0; i < dim_vec; i++)
 175              		.loc 1 103 12
 176 00f0 0023     		movs	r3, #0
 177 00f2 A7F84230 		strh	r3, [r7, #66]	@ movhi
ARM GAS  /tmp/cc3byGRl.s 			page 6


 178              		.loc 1 103 5
 179 00f6 3DE0     		b	.L8
 180              	.L11:
 104:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
 105:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         if (vec_in[i] > base) 
 181              		.loc 1 105 19
 182 00f8 B7F94230 		ldrsh	r3, [r7, #66]
 183 00fc 5B00     		lsls	r3, r3, #1
 184 00fe FA68     		ldr	r2, [r7, #12]
 185 0100 1344     		add	r3, r3, r2
 186 0102 B3F90030 		ldrsh	r3, [r3]
 187 0106 1A46     		mov	r2, r3
 188              		.loc 1 105 12
 189 0108 FB6B     		ldr	r3, [r7, #60]
 190 010a 9342     		cmp	r3, r2
 191 010c 24DA     		bge	.L9
 192              	.LBB3:
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         {
 107:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****             /* Here minimum value of 17+base-vec[i] will be 1 */
 108:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****             shift = (uint8_t)__USAT(17+base-vec_in[i], 5);
 193              		.loc 1 108 30
 194 010e FB6B     		ldr	r3, [r7, #60]
 195 0110 1133     		adds	r3, r3, #17
 196 0112 B7F94220 		ldrsh	r2, [r7, #66]
 197 0116 5200     		lsls	r2, r2, #1
 198 0118 F968     		ldr	r1, [r7, #12]
 199 011a 0A44     		add	r2, r2, r1
 200 011c B2F90020 		ldrsh	r2, [r2]
 201 0120 9B1A     		subs	r3, r3, r2
 202 0122 BB62     		str	r3, [r7, #40]
 203 0124 BB6A     		ldr	r3, [r7, #40]
 204              		.syntax unified
 205              	@ 108 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c" 1
 206 0126 83F30503 		usat r3, #5, r3
 207              	@ 0 "" 2
 208              		.thumb
 209              		.syntax unified
 210 012a 7B62     		str	r3, [r7, #36]
 211 012c 7B6A     		ldr	r3, [r7, #36]
 212              	.LBE3:
 213              		.loc 1 108 19
 214 012e 87F82330 		strb	r3, [r7, #35]
 215              	.LBB4:
 109:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****             p_out[i] = (q15_t) __SSAT((output_base >> shift), 16);
 216              		.loc 1 109 32
 217 0132 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 218 0136 FA6A     		ldr	r2, [r7, #44]
 219 0138 42FA03F3 		asr	r3, r2, r3
 220 013c FB61     		str	r3, [r7, #28]
 221 013e FB69     		ldr	r3, [r7, #28]
 222              		.syntax unified
 223              	@ 109 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c" 1
 224 0140 03F30F03 		ssat r3, #16, r3
 225              	@ 0 "" 2
 226              		.thumb
 227              		.syntax unified
 228 0144 BB61     		str	r3, [r7, #24]
ARM GAS  /tmp/cc3byGRl.s 			page 7


 229 0146 B969     		ldr	r1, [r7, #24]
 230              	.LBE4:
 231              		.loc 1 109 18
 232 0148 B7F94230 		ldrsh	r3, [r7, #66]
 233 014c 5B00     		lsls	r3, r3, #1
 234 014e 7A68     		ldr	r2, [r7, #4]
 235 0150 1344     		add	r3, r3, r2
 236              		.loc 1 109 24
 237 0152 0AB2     		sxth	r2, r1
 238              		.loc 1 109 22
 239 0154 1A80     		strh	r2, [r3]	@ movhi
 240 0156 06E0     		b	.L10
 241              	.L9:
 110:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         } else
 111:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         {
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****             p_out[i] = 0;
 242              		.loc 1 112 18
 243 0158 B7F94230 		ldrsh	r3, [r7, #66]
 244 015c 5B00     		lsls	r3, r3, #1
 245 015e 7A68     		ldr	r2, [r7, #4]
 246 0160 1344     		add	r3, r3, r2
 247              		.loc 1 112 22
 248 0162 0022     		movs	r2, #0
 249 0164 1A80     		strh	r2, [r3]	@ movhi
 250              	.L10:
 103:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
 251              		.loc 1 103 31 discriminator 2
 252 0166 B7F94230 		ldrsh	r3, [r7, #66]
 253 016a 9BB2     		uxth	r3, r3
 254 016c 0133     		adds	r3, r3, #1
 255 016e 9BB2     		uxth	r3, r3
 256 0170 A7F84230 		strh	r3, [r7, #66]	@ movhi
 257              	.L8:
 103:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
 258              		.loc 1 103 19 discriminator 1
 259 0174 B7F94220 		ldrsh	r2, [r7, #66]
 260 0178 7B89     		ldrh	r3, [r7, #10]
 103:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     {
 261              		.loc 1 103 5 discriminator 1
 262 017a 9A42     		cmp	r2, r3
 263 017c BCDB     		blt	.L11
 113:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****         }
 114:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c ****     }
 115:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** 
 116:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q15.c **** }
 264              		.loc 1 116 1
 265 017e 00BF     		nop
 266 0180 00BF     		nop
 267 0182 4837     		adds	r7, r7, #72
 268              	.LCFI3:
 269              		.cfi_def_cfa_offset 8
 270 0184 BD46     		mov	sp, r7
 271              	.LCFI4:
 272              		.cfi_def_cfa_register 13
 273              		@ sp needed
 274 0186 80BD     		pop	{r7, pc}
 275              	.L13:
ARM GAS  /tmp/cc3byGRl.s 			page 8


 276              		.align	2
 277              	.L12:
 278 0188 0000F0FF 		.word	-1048576
 279              		.cfi_endproc
 280              	.LFE149:
 282              		.text
 283              	.Letext0:
 284              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 285              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 286              		.file 4 "/usr/include/newlib/sys/_types.h"
 287              		.file 5 "/usr/include/newlib/sys/reent.h"
 288              		.file 6 "/usr/include/newlib/sys/lock.h"
 289              		.file 7 "/usr/include/newlib/math.h"
 290              		.file 8 "./Libraries/CMSIS/DSP/Include/arm_math.h"
 291              		.file 9 "./Libraries/CMSIS/DSP/Include/arm_common_tables.h"
 292              		.file 10 "./Libraries/CMSIS/NN/Include/arm_nn_tables.h"
ARM GAS  /tmp/cc3byGRl.s 			page 9


DEFINED SYMBOLS
                            *ABS*:0000000000000000 arm_softmax_q15.c
     /tmp/cc3byGRl.s:18     .text.arm_softmax_q15:0000000000000000 $t
     /tmp/cc3byGRl.s:26     .text.arm_softmax_q15:0000000000000000 arm_softmax_q15
     /tmp/cc3byGRl.s:278    .text.arm_softmax_q15:0000000000000188 $d

UNDEFINED SYMBOLS
__aeabi_ldivmod
