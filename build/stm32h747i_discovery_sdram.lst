ARM GAS  /tmp/cceZwVKO.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"stm32h747i_discovery_sdram.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.comm	hsdram,52,4
  17              		.section	.text.BSP_SDRAM_Init,"ax",%progbits
  18              		.align	1
  19              		.global	BSP_SDRAM_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	BSP_SDRAM_Init:
  27              	.LFB331:
  28              		.file 1 "./BSP/ST/stm32h747i_discovery_sdram.c"
   1:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
   2:./BSP/ST/stm32h747i_discovery_sdram.c ****   ******************************************************************************
   3:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @file    stm32h747i_discovery_sdram.c
   4:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @author  MCD Application Team
   5:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief   This file includes the SDRAM driver for the IS42S32800J-6BLI memory
   6:./BSP/ST/stm32h747i_discovery_sdram.c ****   *          device mounted on STM32H747I-DISCO boards.
   7:./BSP/ST/stm32h747i_discovery_sdram.c ****   How To use this driver:
   8:./BSP/ST/stm32h747i_discovery_sdram.c ****   -----------------------
   9:./BSP/ST/stm32h747i_discovery_sdram.c ****    - This driver is used to drive the IS42S32800J-6BLI SDRAM external memory mounted
  10:./BSP/ST/stm32h747i_discovery_sdram.c ****      on STM32H747I_DISCO board.
  11:./BSP/ST/stm32h747i_discovery_sdram.c ****    - This driver does not need a specific component driver for the SDRAM device
  12:./BSP/ST/stm32h747i_discovery_sdram.c ****      to be included with.
  13:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  14:./BSP/ST/stm32h747i_discovery_sdram.c ****   Driver description:
  15:./BSP/ST/stm32h747i_discovery_sdram.c ****   ------------------
  16:./BSP/ST/stm32h747i_discovery_sdram.c ****   + Initialization steps:
  17:./BSP/ST/stm32h747i_discovery_sdram.c ****      o Initialize the SDRAM external memory using the BSP_SDRAM_Init() function. This
  18:./BSP/ST/stm32h747i_discovery_sdram.c ****        function includes the MSP layer hardware resources initialization and the
  19:./BSP/ST/stm32h747i_discovery_sdram.c ****        FMC controller configuration to interface with the external SDRAM memory.
  20:./BSP/ST/stm32h747i_discovery_sdram.c ****      o It contains the SDRAM initialization sequence to program the SDRAM external
  21:./BSP/ST/stm32h747i_discovery_sdram.c ****        device using the function BSP_SDRAM_Initialization_sequence(). Note that this
  22:./BSP/ST/stm32h747i_discovery_sdram.c ****        sequence is standard for all SDRAM devices, but can include some differences
  23:./BSP/ST/stm32h747i_discovery_sdram.c ****        from a device to another. If it is the case, the right sequence should be
  24:./BSP/ST/stm32h747i_discovery_sdram.c ****        implemented separately.
  25:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  26:./BSP/ST/stm32h747i_discovery_sdram.c ****   + SDRAM read/write operations
  27:./BSP/ST/stm32h747i_discovery_sdram.c ****      o SDRAM external memory can be accessed with read/write operations once it is
  28:./BSP/ST/stm32h747i_discovery_sdram.c ****        initialized.
  29:./BSP/ST/stm32h747i_discovery_sdram.c ****        Read/write operation can be performed with AHB access using the functions
  30:./BSP/ST/stm32h747i_discovery_sdram.c ****        BSP_SDRAM_ReadData()/BSP_SDRAM_WriteData(), or by DMA transfer using the functions
ARM GAS  /tmp/cceZwVKO.s 			page 2


  31:./BSP/ST/stm32h747i_discovery_sdram.c ****        BSP_SDRAM_ReadData_DMA()/BSP_SDRAM_WriteData_DMA().
  32:./BSP/ST/stm32h747i_discovery_sdram.c ****      o The AHB access is performed with 32-bit width transaction, the DMA transfer
  33:./BSP/ST/stm32h747i_discovery_sdram.c ****        configuration is fixed at single (no burst) word transfer (see the
  34:./BSP/ST/stm32h747i_discovery_sdram.c ****        SDRAM_MspInit() static function).
  35:./BSP/ST/stm32h747i_discovery_sdram.c ****      o User can implement his own functions for read/write access with his desired
  36:./BSP/ST/stm32h747i_discovery_sdram.c ****        configurations.
  37:./BSP/ST/stm32h747i_discovery_sdram.c ****      o If interrupt mode is used for DMA transfer, the function BSP_SDRAM_DMA_IRQHandler()
  38:./BSP/ST/stm32h747i_discovery_sdram.c ****        is called in IRQ handler file, to serve the generated interrupt once the DMA
  39:./BSP/ST/stm32h747i_discovery_sdram.c ****        transfer is complete.
  40:./BSP/ST/stm32h747i_discovery_sdram.c ****      o You can send a command to the SDRAM device in runtime using the function
  41:./BSP/ST/stm32h747i_discovery_sdram.c ****        BSP_SDRAM_Sendcmd(), and giving the desired command as parameter chosen between
  42:./BSP/ST/stm32h747i_discovery_sdram.c ****        the predefined commands of the "FMC_SDRAM_CommandTypeDef" structure.
  43:./BSP/ST/stm32h747i_discovery_sdram.c ****   ******************************************************************************
  44:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @attention
  45:./BSP/ST/stm32h747i_discovery_sdram.c ****   *
  46:./BSP/ST/stm32h747i_discovery_sdram.c ****   * <h2><center>&copy; Copyright (c) 2018 STMicroelectronics.
  47:./BSP/ST/stm32h747i_discovery_sdram.c ****   * All rights reserved.</center></h2>
  48:./BSP/ST/stm32h747i_discovery_sdram.c ****   *
  49:./BSP/ST/stm32h747i_discovery_sdram.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  50:./BSP/ST/stm32h747i_discovery_sdram.c ****   * the "License"; You may not use this file except in compliance with the
  51:./BSP/ST/stm32h747i_discovery_sdram.c ****   * License. You may obtain a copy of the License at:
  52:./BSP/ST/stm32h747i_discovery_sdram.c ****   *                        opensource.org/licenses/BSD-3-Clause
  53:./BSP/ST/stm32h747i_discovery_sdram.c ****   *
  54:./BSP/ST/stm32h747i_discovery_sdram.c ****   ******************************************************************************
  55:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  56:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  57:./BSP/ST/stm32h747i_discovery_sdram.c **** /* Includes ------------------------------------------------------------------*/
  58:./BSP/ST/stm32h747i_discovery_sdram.c **** #include "stm32h747i_discovery_sdram.h"
  59:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  60:./BSP/ST/stm32h747i_discovery_sdram.c **** /** @addtogroup BSP
  61:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @{
  62:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  63:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  64:./BSP/ST/stm32h747i_discovery_sdram.c **** /** @addtogroup STM32H747I_DISCO
  65:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @{
  66:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  67:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  68:./BSP/ST/stm32h747i_discovery_sdram.c **** /** @addtogroup STM32H747I_DISCO_SDRAM
  69:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @{
  70:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  71:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  72:./BSP/ST/stm32h747i_discovery_sdram.c **** /** @defgroup STM32H747I_DISCO_SDRAM_Exported_Variables Exported Variables
  73:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @{
  74:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  75:./BSP/ST/stm32h747i_discovery_sdram.c **** SDRAM_HandleTypeDef hsdram[SDRAM_INSTANCES_NBR];
  76:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
  77:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @}
  78:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  79:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  80:./BSP/ST/stm32h747i_discovery_sdram.c **** /** @defgroup STM32H747I_DISCO_SDRAM_Private_Variables Private Variables
  81:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @{
  82:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  83:./BSP/ST/stm32h747i_discovery_sdram.c **** #if (USE_HAL_SDRAM_REGISTER_CALLBACKS == 1)
  84:./BSP/ST/stm32h747i_discovery_sdram.c **** static uint32_t IsMspCallbacksValid = 0;
  85:./BSP/ST/stm32h747i_discovery_sdram.c **** #endif
  86:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
  87:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @}
ARM GAS  /tmp/cceZwVKO.s 			page 3


  88:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  89:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  90:./BSP/ST/stm32h747i_discovery_sdram.c **** /** @defgroup STM32H747I_DISCO_SDRAM_Private_Functions_Prototypes Private Functions Prototypes
  91:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @{
  92:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  93:./BSP/ST/stm32h747i_discovery_sdram.c **** static void SDRAM_MspDeInit(SDRAM_HandleTypeDef  *hSdram);
  94:./BSP/ST/stm32h747i_discovery_sdram.c **** static void SDRAM_MspInit(SDRAM_HandleTypeDef  *hSdram);
  95:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
  96:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @}
  97:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
  98:./BSP/ST/stm32h747i_discovery_sdram.c **** 
  99:./BSP/ST/stm32h747i_discovery_sdram.c **** /** @defgroup STM32H747I_DISCO_SDRAM_Exported_Functions Exported Functions
 100:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @{
 101:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 102:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 103:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief  Initializes the SDRAM device.
 104:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param Instance  SDRAM Instance
 105:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval BSP status
 106:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 107:./BSP/ST/stm32h747i_discovery_sdram.c **** int32_t BSP_SDRAM_Init(uint32_t Instance)
 108:./BSP/ST/stm32h747i_discovery_sdram.c **** {
  29              		.loc 1 108 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 16
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 84B0     		sub	sp, sp, #16
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 24
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
 109:./BSP/ST/stm32h747i_discovery_sdram.c ****   int32_t ret;
 110:./BSP/ST/stm32h747i_discovery_sdram.c ****   static IS42S32800J_Context_t pRegMode;
 111:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 112:./BSP/ST/stm32h747i_discovery_sdram.c ****   if(Instance >=SDRAM_INSTANCES_NBR)
  45              		.loc 1 112 5
  46 0008 7B68     		ldr	r3, [r7, #4]
  47 000a 002B     		cmp	r3, #0
  48 000c 03D0     		beq	.L2
 113:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 114:./BSP/ST/stm32h747i_discovery_sdram.c ****     ret =  BSP_ERROR_WRONG_PARAM;
  49              		.loc 1 114 9
  50 000e 6FF00103 		mvn	r3, #1
  51 0012 FB60     		str	r3, [r7, #12]
  52 0014 33E0     		b	.L3
  53              	.L2:
 115:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 116:./BSP/ST/stm32h747i_discovery_sdram.c ****   else
 117:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 118:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 119:./BSP/ST/stm32h747i_discovery_sdram.c **** #if (USE_HAL_SDRAM_REGISTER_CALLBACKS == 1)
ARM GAS  /tmp/cceZwVKO.s 			page 4


 120:./BSP/ST/stm32h747i_discovery_sdram.c ****       /* Register the SDRAM MSP Callbacks */
 121:./BSP/ST/stm32h747i_discovery_sdram.c ****       if(IsMspCallbacksValid == 0)
 122:./BSP/ST/stm32h747i_discovery_sdram.c ****       {
 123:./BSP/ST/stm32h747i_discovery_sdram.c ****         if(BSP_SDRAM_RegisterDefaultMspCallbacks(Instance) != BSP_ERROR_NONE)
 124:./BSP/ST/stm32h747i_discovery_sdram.c ****         {
 125:./BSP/ST/stm32h747i_discovery_sdram.c ****           return BSP_ERROR_PERIPH_FAILURE;
 126:./BSP/ST/stm32h747i_discovery_sdram.c ****         }
 127:./BSP/ST/stm32h747i_discovery_sdram.c ****       }
 128:./BSP/ST/stm32h747i_discovery_sdram.c **** #else
 129:./BSP/ST/stm32h747i_discovery_sdram.c ****       /* Msp SDRAM initialization */
 130:./BSP/ST/stm32h747i_discovery_sdram.c ****       SDRAM_MspInit(&hsdram[0]);
  54              		.loc 1 130 7
  55 0016 1C48     		ldr	r0, .L7
  56 0018 FFF7FEFF 		bl	SDRAM_MspInit
 131:./BSP/ST/stm32h747i_discovery_sdram.c **** #endif /* USE_HAL_SDRAM_REGISTER_CALLBACKS */
 132:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 133:./BSP/ST/stm32h747i_discovery_sdram.c ****     if(MX_SDRAM_Init(&hsdram[0]) != HAL_OK)
  57              		.loc 1 133 8
  58 001c 1A48     		ldr	r0, .L7
  59 001e FFF7FEFF 		bl	MX_SDRAM_Init
  60 0022 0346     		mov	r3, r0
  61              		.loc 1 133 7
  62 0024 002B     		cmp	r3, #0
  63 0026 03D0     		beq	.L4
 134:./BSP/ST/stm32h747i_discovery_sdram.c ****     {
 135:./BSP/ST/stm32h747i_discovery_sdram.c ****       ret = BSP_ERROR_NO_INIT;
  64              		.loc 1 135 11
  65 0028 4FF0FF33 		mov	r3, #-1
  66 002c FB60     		str	r3, [r7, #12]
  67 002e 26E0     		b	.L3
  68              	.L4:
 136:./BSP/ST/stm32h747i_discovery_sdram.c ****     }
 137:./BSP/ST/stm32h747i_discovery_sdram.c ****     else
 138:./BSP/ST/stm32h747i_discovery_sdram.c ****     {
 139:./BSP/ST/stm32h747i_discovery_sdram.c ****       /* External memory mode register configuration */
 140:./BSP/ST/stm32h747i_discovery_sdram.c ****       pRegMode.TargetBank      = FMC_SDRAM_CMD_TARGET_BANK2;
  69              		.loc 1 140 32
  70 0030 164B     		ldr	r3, .L7+4
  71 0032 0822     		movs	r2, #8
  72 0034 1A60     		str	r2, [r3]
 141:./BSP/ST/stm32h747i_discovery_sdram.c ****       pRegMode.RefreshMode     = IS42S32800J_AUTOREFRESH_MODE_CMD;
  73              		.loc 1 141 32
  74 0036 154B     		ldr	r3, .L7+4
  75 0038 0322     		movs	r2, #3
  76 003a 5A60     		str	r2, [r3, #4]
 142:./BSP/ST/stm32h747i_discovery_sdram.c ****       pRegMode.RefreshRate     = REFRESH_COUNT;
  77              		.loc 1 142 32
  78 003c 134B     		ldr	r3, .L7+4
  79 003e 40F20362 		movw	r2, #1539
  80 0042 9A60     		str	r2, [r3, #8]
 143:./BSP/ST/stm32h747i_discovery_sdram.c ****       pRegMode.BurstLength     = IS42S32800J_BURST_LENGTH_1;
  81              		.loc 1 143 32
  82 0044 114B     		ldr	r3, .L7+4
  83 0046 0022     		movs	r2, #0
  84 0048 DA60     		str	r2, [r3, #12]
 144:./BSP/ST/stm32h747i_discovery_sdram.c ****       pRegMode.BurstType       = IS42S32800J_BURST_TYPE_SEQUENTIAL;
  85              		.loc 1 144 32
ARM GAS  /tmp/cceZwVKO.s 			page 5


  86 004a 104B     		ldr	r3, .L7+4
  87 004c 0022     		movs	r2, #0
  88 004e 1A61     		str	r2, [r3, #16]
 145:./BSP/ST/stm32h747i_discovery_sdram.c ****       pRegMode.CASLatency      = IS42S32800J_CAS_LATENCY_3;
  89              		.loc 1 145 32
  90 0050 0E4B     		ldr	r3, .L7+4
  91 0052 3022     		movs	r2, #48
  92 0054 5A61     		str	r2, [r3, #20]
 146:./BSP/ST/stm32h747i_discovery_sdram.c ****       pRegMode.OperationMode   = IS42S32800J_OPERATING_MODE_STANDARD;
  93              		.loc 1 146 32
  94 0056 0D4B     		ldr	r3, .L7+4
  95 0058 0022     		movs	r2, #0
  96 005a 9A61     		str	r2, [r3, #24]
 147:./BSP/ST/stm32h747i_discovery_sdram.c ****       pRegMode.WriteBurstMode  = IS42S32800J_WRITEBURST_MODE_SINGLE;
  97              		.loc 1 147 32
  98 005c 0B4B     		ldr	r3, .L7+4
  99 005e 4FF40072 		mov	r2, #512
 100 0062 DA61     		str	r2, [r3, #28]
 148:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 149:./BSP/ST/stm32h747i_discovery_sdram.c ****       /* SDRAM initialization sequence */
 150:./BSP/ST/stm32h747i_discovery_sdram.c ****       if(IS42S32800J_Init(&hsdram[0], &pRegMode) != IS42S32800J_OK)
 101              		.loc 1 150 10
 102 0064 0949     		ldr	r1, .L7+4
 103 0066 0848     		ldr	r0, .L7
 104 0068 FFF7FEFF 		bl	IS42S32800J_Init
 105 006c 0346     		mov	r3, r0
 106              		.loc 1 150 9
 107 006e 002B     		cmp	r3, #0
 108 0070 03D0     		beq	.L5
 151:./BSP/ST/stm32h747i_discovery_sdram.c ****       {
 152:./BSP/ST/stm32h747i_discovery_sdram.c ****         ret =  BSP_ERROR_COMPONENT_FAILURE;
 109              		.loc 1 152 13
 110 0072 6FF00403 		mvn	r3, #4
 111 0076 FB60     		str	r3, [r7, #12]
 112 0078 01E0     		b	.L3
 113              	.L5:
 153:./BSP/ST/stm32h747i_discovery_sdram.c ****       }
 154:./BSP/ST/stm32h747i_discovery_sdram.c ****       else
 155:./BSP/ST/stm32h747i_discovery_sdram.c ****       {
 156:./BSP/ST/stm32h747i_discovery_sdram.c ****         ret = BSP_ERROR_NONE;
 114              		.loc 1 156 13
 115 007a 0023     		movs	r3, #0
 116 007c FB60     		str	r3, [r7, #12]
 117              	.L3:
 157:./BSP/ST/stm32h747i_discovery_sdram.c ****       }
 158:./BSP/ST/stm32h747i_discovery_sdram.c ****     }
 159:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 160:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 161:./BSP/ST/stm32h747i_discovery_sdram.c ****   return ret;
 118              		.loc 1 161 10
 119 007e FB68     		ldr	r3, [r7, #12]
 162:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 120              		.loc 1 162 1
 121 0080 1846     		mov	r0, r3
 122 0082 1037     		adds	r7, r7, #16
 123              	.LCFI3:
 124              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cceZwVKO.s 			page 6


 125 0084 BD46     		mov	sp, r7
 126              	.LCFI4:
 127              		.cfi_def_cfa_register 13
 128              		@ sp needed
 129 0086 80BD     		pop	{r7, pc}
 130              	.L8:
 131              		.align	2
 132              	.L7:
 133 0088 00000000 		.word	hsdram
 134 008c 00000000 		.word	pRegMode.12206
 135              		.cfi_endproc
 136              	.LFE331:
 138              		.section	.text.BSP_SDRAM_DeInit,"ax",%progbits
 139              		.align	1
 140              		.global	BSP_SDRAM_DeInit
 141              		.syntax unified
 142              		.thumb
 143              		.thumb_func
 144              		.fpu fpv5-d16
 146              	BSP_SDRAM_DeInit:
 147              	.LFB332:
 163:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 164:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 165:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief  DeInitializes the SDRAM device.
 166:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param Instance  SDRAM Instance
 167:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval BSP status
 168:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 169:./BSP/ST/stm32h747i_discovery_sdram.c **** int32_t BSP_SDRAM_DeInit(uint32_t Instance)
 170:./BSP/ST/stm32h747i_discovery_sdram.c **** {
 148              		.loc 1 170 1
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 16
 151              		@ frame_needed = 1, uses_anonymous_args = 0
 152 0000 80B5     		push	{r7, lr}
 153              	.LCFI5:
 154              		.cfi_def_cfa_offset 8
 155              		.cfi_offset 7, -8
 156              		.cfi_offset 14, -4
 157 0002 84B0     		sub	sp, sp, #16
 158              	.LCFI6:
 159              		.cfi_def_cfa_offset 24
 160 0004 00AF     		add	r7, sp, #0
 161              	.LCFI7:
 162              		.cfi_def_cfa_register 7
 163 0006 7860     		str	r0, [r7, #4]
 171:./BSP/ST/stm32h747i_discovery_sdram.c ****   int32_t ret = BSP_ERROR_NONE;
 164              		.loc 1 171 11
 165 0008 0023     		movs	r3, #0
 166 000a FB60     		str	r3, [r7, #12]
 172:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 173:./BSP/ST/stm32h747i_discovery_sdram.c ****   if(Instance >=SDRAM_INSTANCES_NBR)
 167              		.loc 1 173 5
 168 000c 7B68     		ldr	r3, [r7, #4]
 169 000e 002B     		cmp	r3, #0
 170 0010 03D0     		beq	.L10
 174:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 175:./BSP/ST/stm32h747i_discovery_sdram.c ****     ret =  BSP_ERROR_WRONG_PARAM;
ARM GAS  /tmp/cceZwVKO.s 			page 7


 171              		.loc 1 175 9
 172 0012 6FF00103 		mvn	r3, #1
 173 0016 FB60     		str	r3, [r7, #12]
 174 0018 1BE0     		b	.L11
 175              	.L10:
 176:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 177:./BSP/ST/stm32h747i_discovery_sdram.c ****   else
 178:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 179:./BSP/ST/stm32h747i_discovery_sdram.c ****     /* SDRAM device de-initialization */
 180:./BSP/ST/stm32h747i_discovery_sdram.c ****     hsdram[Instance].Instance = FMC_SDRAM_DEVICE;
 176              		.loc 1 180 31
 177 001a 104A     		ldr	r2, .L13
 178 001c 7B68     		ldr	r3, [r7, #4]
 179 001e 3421     		movs	r1, #52
 180 0020 01FB03F3 		mul	r3, r1, r3
 181 0024 1344     		add	r3, r3, r2
 182 0026 0E4A     		ldr	r2, .L13+4
 183 0028 1A60     		str	r2, [r3]
 181:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 182:./BSP/ST/stm32h747i_discovery_sdram.c ****     (void)HAL_SDRAM_DeInit(&hsdram[Instance]);
 184              		.loc 1 182 11
 185 002a 7B68     		ldr	r3, [r7, #4]
 186 002c 3422     		movs	r2, #52
 187 002e 02FB03F3 		mul	r3, r2, r3
 188 0032 0A4A     		ldr	r2, .L13
 189 0034 1344     		add	r3, r3, r2
 190 0036 1846     		mov	r0, r3
 191 0038 FFF7FEFF 		bl	HAL_SDRAM_DeInit
 183:./BSP/ST/stm32h747i_discovery_sdram.c **** #if (USE_HAL_SDRAM_REGISTER_CALLBACKS == 0)
 184:./BSP/ST/stm32h747i_discovery_sdram.c ****     /* SDRAM controller de-initialization */
 185:./BSP/ST/stm32h747i_discovery_sdram.c ****     SDRAM_MspDeInit(&hsdram[Instance]);
 192              		.loc 1 185 5
 193 003c 7B68     		ldr	r3, [r7, #4]
 194 003e 3422     		movs	r2, #52
 195 0040 02FB03F3 		mul	r3, r2, r3
 196 0044 054A     		ldr	r2, .L13
 197 0046 1344     		add	r3, r3, r2
 198 0048 1846     		mov	r0, r3
 199 004a FFF7FEFF 		bl	SDRAM_MspDeInit
 186:./BSP/ST/stm32h747i_discovery_sdram.c **** #endif /* (USE_HAL_SDRAM_REGISTER_CALLBACKS == 0) */
 187:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 188:./BSP/ST/stm32h747i_discovery_sdram.c ****     ret = BSP_ERROR_NONE;
 200              		.loc 1 188 9
 201 004e 0023     		movs	r3, #0
 202 0050 FB60     		str	r3, [r7, #12]
 203              	.L11:
 189:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 190:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 191:./BSP/ST/stm32h747i_discovery_sdram.c ****   return ret;
 204              		.loc 1 191 10
 205 0052 FB68     		ldr	r3, [r7, #12]
 192:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 206              		.loc 1 192 1
 207 0054 1846     		mov	r0, r3
 208 0056 1037     		adds	r7, r7, #16
 209              	.LCFI8:
 210              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cceZwVKO.s 			page 8


 211 0058 BD46     		mov	sp, r7
 212              	.LCFI9:
 213              		.cfi_def_cfa_register 13
 214              		@ sp needed
 215 005a 80BD     		pop	{r7, pc}
 216              	.L14:
 217              		.align	2
 218              	.L13:
 219 005c 00000000 		.word	hsdram
 220 0060 40410052 		.word	1375748416
 221              		.cfi_endproc
 222              	.LFE332:
 224              		.section	.text.MX_SDRAM_Init,"ax",%progbits
 225              		.align	1
 226              		.weak	MX_SDRAM_Init
 227              		.syntax unified
 228              		.thumb
 229              		.thumb_func
 230              		.fpu fpv5-d16
 232              	MX_SDRAM_Init:
 233              	.LFB333:
 193:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 194:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 195:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief  Initializes the SDRAM periperal.
 196:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param  hSdram SDRAM handle
 197:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval HAL status
 198:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 199:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 200:./BSP/ST/stm32h747i_discovery_sdram.c **** __weak HAL_StatusTypeDef MX_SDRAM_Init(SDRAM_HandleTypeDef *hSdram)
 201:./BSP/ST/stm32h747i_discovery_sdram.c **** {
 234              		.loc 1 201 1
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 40
 237              		@ frame_needed = 1, uses_anonymous_args = 0
 238 0000 80B5     		push	{r7, lr}
 239              	.LCFI10:
 240              		.cfi_def_cfa_offset 8
 241              		.cfi_offset 7, -8
 242              		.cfi_offset 14, -4
 243 0002 8AB0     		sub	sp, sp, #40
 244              	.LCFI11:
 245              		.cfi_def_cfa_offset 48
 246 0004 00AF     		add	r7, sp, #0
 247              	.LCFI12:
 248              		.cfi_def_cfa_register 7
 249 0006 7860     		str	r0, [r7, #4]
 202:./BSP/ST/stm32h747i_discovery_sdram.c ****   FMC_SDRAM_TimingTypeDef sdram_timing;
 203:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 204:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* SDRAM device configuration */
 205:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Instance = FMC_SDRAM_DEVICE;
 250              		.loc 1 205 20
 251 0008 7B68     		ldr	r3, [r7, #4]
 252 000a 204A     		ldr	r2, .L19
 253 000c 1A60     		str	r2, [r3]
 206:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 207:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* SDRAM handle configuration */
 208:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.SDBank             = FMC_SDRAM_BANK2;
ARM GAS  /tmp/cceZwVKO.s 			page 9


 254              		.loc 1 208 35
 255 000e 7B68     		ldr	r3, [r7, #4]
 256 0010 0122     		movs	r2, #1
 257 0012 5A60     		str	r2, [r3, #4]
 209:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.ColumnBitsNumber   = FMC_SDRAM_COLUMN_BITS_NUM_9;
 258              		.loc 1 209 35
 259 0014 7B68     		ldr	r3, [r7, #4]
 260 0016 0122     		movs	r2, #1
 261 0018 9A60     		str	r2, [r3, #8]
 210:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.RowBitsNumber      = FMC_SDRAM_ROW_BITS_NUM_12;
 262              		.loc 1 210 35
 263 001a 7B68     		ldr	r3, [r7, #4]
 264 001c 0422     		movs	r2, #4
 265 001e DA60     		str	r2, [r3, #12]
 211:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.MemoryDataWidth    = FMC_SDRAM_MEM_BUS_WIDTH_32;
 266              		.loc 1 211 35
 267 0020 7B68     		ldr	r3, [r7, #4]
 268 0022 2022     		movs	r2, #32
 269 0024 1A61     		str	r2, [r3, #16]
 212:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.InternalBankNumber = FMC_SDRAM_INTERN_BANKS_NUM_4;
 270              		.loc 1 212 35
 271 0026 7B68     		ldr	r3, [r7, #4]
 272 0028 4022     		movs	r2, #64
 273 002a 5A61     		str	r2, [r3, #20]
 213:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.CASLatency         = FMC_SDRAM_CAS_LATENCY_3;
 274              		.loc 1 213 35
 275 002c 7B68     		ldr	r3, [r7, #4]
 276 002e 4FF4C072 		mov	r2, #384
 277 0032 9A61     		str	r2, [r3, #24]
 214:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.WriteProtection    = FMC_SDRAM_WRITE_PROTECTION_DISABLE;
 278              		.loc 1 214 35
 279 0034 7B68     		ldr	r3, [r7, #4]
 280 0036 0022     		movs	r2, #0
 281 0038 DA61     		str	r2, [r3, #28]
 215:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.SDClockPeriod      = FMC_SDRAM_CLOCK_PERIOD_2;
 282              		.loc 1 215 35
 283 003a 7B68     		ldr	r3, [r7, #4]
 284 003c 4FF40062 		mov	r2, #2048
 285 0040 1A62     		str	r2, [r3, #32]
 216:./BSP/ST/stm32h747i_discovery_sdram.c ****   hSdram->Init.ReadBurst          = FMC_SDRAM_RBURST_ENABLE;
 286              		.loc 1 216 35
 287 0042 7B68     		ldr	r3, [r7, #4]
 288 0044 4FF48052 		mov	r2, #4096
 289 0048 5A62     		str	r2, [r3, #36]
 217:./BSP/ST/stm32h747i_discovery_sdram.c ****   hsdram->Init.ReadPipeDelay      = FMC_SDRAM_RPIPE_DELAY_0;
 290              		.loc 1 217 35
 291 004a 114B     		ldr	r3, .L19+4
 292 004c 0022     		movs	r2, #0
 293 004e 9A62     		str	r2, [r3, #40]
 218:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 219:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Timing configuration for 100Mhz as SDRAM clock frequency (System clock is up to 200Mhz) */
 220:./BSP/ST/stm32h747i_discovery_sdram.c ****   sdram_timing.LoadToActiveDelay    = 2;
 294              		.loc 1 220 37
 295 0050 0223     		movs	r3, #2
 296 0052 FB60     		str	r3, [r7, #12]
 221:./BSP/ST/stm32h747i_discovery_sdram.c ****   sdram_timing.ExitSelfRefreshDelay = 7;
 297              		.loc 1 221 37
ARM GAS  /tmp/cceZwVKO.s 			page 10


 298 0054 0723     		movs	r3, #7
 299 0056 3B61     		str	r3, [r7, #16]
 222:./BSP/ST/stm32h747i_discovery_sdram.c ****   sdram_timing.SelfRefreshTime      = 4;
 300              		.loc 1 222 37
 301 0058 0423     		movs	r3, #4
 302 005a 7B61     		str	r3, [r7, #20]
 223:./BSP/ST/stm32h747i_discovery_sdram.c ****   sdram_timing.RowCycleDelay        = 7;
 303              		.loc 1 223 37
 304 005c 0723     		movs	r3, #7
 305 005e BB61     		str	r3, [r7, #24]
 224:./BSP/ST/stm32h747i_discovery_sdram.c ****   sdram_timing.WriteRecoveryTime    = 2;
 306              		.loc 1 224 37
 307 0060 0223     		movs	r3, #2
 308 0062 FB61     		str	r3, [r7, #28]
 225:./BSP/ST/stm32h747i_discovery_sdram.c ****   sdram_timing.RPDelay              = 2;
 309              		.loc 1 225 37
 310 0064 0223     		movs	r3, #2
 311 0066 3B62     		str	r3, [r7, #32]
 226:./BSP/ST/stm32h747i_discovery_sdram.c ****   sdram_timing.RCDDelay             = 2;
 312              		.loc 1 226 37
 313 0068 0223     		movs	r3, #2
 314 006a 7B62     		str	r3, [r7, #36]
 227:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 228:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* SDRAM controller initialization */
 229:./BSP/ST/stm32h747i_discovery_sdram.c ****   if(HAL_SDRAM_Init(hSdram, &sdram_timing) != HAL_OK)
 315              		.loc 1 229 6
 316 006c 07F10C03 		add	r3, r7, #12
 317 0070 1946     		mov	r1, r3
 318 0072 7868     		ldr	r0, [r7, #4]
 319 0074 FFF7FEFF 		bl	HAL_SDRAM_Init
 320 0078 0346     		mov	r3, r0
 321              		.loc 1 229 5
 322 007a 002B     		cmp	r3, #0
 323 007c 01D0     		beq	.L16
 230:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 231:./BSP/ST/stm32h747i_discovery_sdram.c ****     return  HAL_ERROR;
 324              		.loc 1 231 13
 325 007e 0123     		movs	r3, #1
 326 0080 00E0     		b	.L18
 327              	.L16:
 232:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 233:./BSP/ST/stm32h747i_discovery_sdram.c ****   return HAL_OK;
 328              		.loc 1 233 10
 329 0082 0023     		movs	r3, #0
 330              	.L18:
 234:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 331              		.loc 1 234 1 discriminator 1
 332 0084 1846     		mov	r0, r3
 333 0086 2837     		adds	r7, r7, #40
 334              	.LCFI13:
 335              		.cfi_def_cfa_offset 8
 336 0088 BD46     		mov	sp, r7
 337              	.LCFI14:
 338              		.cfi_def_cfa_register 13
 339              		@ sp needed
 340 008a 80BD     		pop	{r7, pc}
 341              	.L20:
ARM GAS  /tmp/cceZwVKO.s 			page 11


 342              		.align	2
 343              	.L19:
 344 008c 40410052 		.word	1375748416
 345 0090 00000000 		.word	hsdram
 346              		.cfi_endproc
 347              	.LFE333:
 349              		.section	.text.BSP_SDRAM_SendCmd,"ax",%progbits
 350              		.align	1
 351              		.global	BSP_SDRAM_SendCmd
 352              		.syntax unified
 353              		.thumb
 354              		.thumb_func
 355              		.fpu fpv5-d16
 357              	BSP_SDRAM_SendCmd:
 358              	.LFB334:
 235:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 236:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 237:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief  Initializes the SDRAM periperal.
 238:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval HAL status
 239:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 240:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 241:./BSP/ST/stm32h747i_discovery_sdram.c **** #if (USE_HAL_SDRAM_REGISTER_CALLBACKS == 1)
 242:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 243:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief Default BSP SDRAM Msp Callbacks
 244:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param Instance      SDRAM Instance
 245:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval BSP status
 246:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 247:./BSP/ST/stm32h747i_discovery_sdram.c **** int32_t BSP_SDRAM_RegisterDefaultMspCallbacks (uint32_t Instance)
 248:./BSP/ST/stm32h747i_discovery_sdram.c **** {
 249:./BSP/ST/stm32h747i_discovery_sdram.c ****   int32_t ret = BSP_ERROR_NONE;
 250:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 251:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Check if the instance is supported */
 252:./BSP/ST/stm32h747i_discovery_sdram.c ****   if(Instance >=SDRAM_INSTANCES_NBR)
 253:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 254:./BSP/ST/stm32h747i_discovery_sdram.c ****     ret = BSP_ERROR_WRONG_PARAM;
 255:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 256:./BSP/ST/stm32h747i_discovery_sdram.c ****   else
 257:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 258:./BSP/ST/stm32h747i_discovery_sdram.c ****     /* Register MspInit/MspDeInit Callbacks */
 259:./BSP/ST/stm32h747i_discovery_sdram.c ****     if(HAL_SDRAM_RegisterCallback(&hsdram[Instance],  HAL_SDRAM_MSP_INIT_CB_ID, SDRAM_MspInit) != H
 260:./BSP/ST/stm32h747i_discovery_sdram.c ****     {
 261:./BSP/ST/stm32h747i_discovery_sdram.c ****       ret = BSP_ERROR_PERIPH_FAILURE;
 262:./BSP/ST/stm32h747i_discovery_sdram.c ****     }
 263:./BSP/ST/stm32h747i_discovery_sdram.c ****     if(HAL_SDRAM_RegisterCallback(&hsdram[Instance], HAL_SDRAM_MSP_DEINIT_CB_ID, SDRAM_MspDeInit) !
 264:./BSP/ST/stm32h747i_discovery_sdram.c ****     {
 265:./BSP/ST/stm32h747i_discovery_sdram.c ****       ret = BSP_ERROR_PERIPH_FAILURE;
 266:./BSP/ST/stm32h747i_discovery_sdram.c ****     }
 267:./BSP/ST/stm32h747i_discovery_sdram.c ****     else
 268:./BSP/ST/stm32h747i_discovery_sdram.c ****     {
 269:./BSP/ST/stm32h747i_discovery_sdram.c ****       IsMspCallbacksValid = 1;
 270:./BSP/ST/stm32h747i_discovery_sdram.c ****     }
 271:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 272:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Return BSP status */
 273:./BSP/ST/stm32h747i_discovery_sdram.c ****   return ret;
 274:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 275:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 276:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
ARM GAS  /tmp/cceZwVKO.s 			page 12


 277:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief BSP SDRAM Msp Callback registering
 278:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param Instance     SDRAM Instance
 279:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param CallBacks    pointer to MspInit/MspDeInit callbacks functions
 280:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval BSP status
 281:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 282:./BSP/ST/stm32h747i_discovery_sdram.c **** int32_t BSP_SDRAM_RegisterMspCallbacks (uint32_t Instance, BSP_SDRAM_Cb_t *CallBacks)
 283:./BSP/ST/stm32h747i_discovery_sdram.c **** {
 284:./BSP/ST/stm32h747i_discovery_sdram.c ****   int32_t ret = BSP_ERROR_NONE;
 285:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 286:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Check if the instance is supported */
 287:./BSP/ST/stm32h747i_discovery_sdram.c ****   if(Instance >=SDRAM_INSTANCES_NBR)
 288:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 289:./BSP/ST/stm32h747i_discovery_sdram.c ****     ret = BSP_ERROR_WRONG_PARAM;
 290:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 291:./BSP/ST/stm32h747i_discovery_sdram.c ****   else
 292:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 293:./BSP/ST/stm32h747i_discovery_sdram.c ****     /* Register MspInit/MspDeInit Callbacks */
 294:./BSP/ST/stm32h747i_discovery_sdram.c ****     if(HAL_SDRAM_RegisterCallback(&hsdram[Instance], HAL_SDRAM_MSP_INIT_CB_ID, CallBacks->pMspInitC
 295:./BSP/ST/stm32h747i_discovery_sdram.c ****     {
 296:./BSP/ST/stm32h747i_discovery_sdram.c ****       ret = BSP_ERROR_PERIPH_FAILURE;
 297:./BSP/ST/stm32h747i_discovery_sdram.c ****     }
 298:./BSP/ST/stm32h747i_discovery_sdram.c ****     if(HAL_SDRAM_RegisterCallback(&hsdram[Instance], HAL_SDRAM_MSP_DEINIT_CB_ID, CallBacks->pMspDeI
 299:./BSP/ST/stm32h747i_discovery_sdram.c ****     {
 300:./BSP/ST/stm32h747i_discovery_sdram.c ****       ret = BSP_ERROR_PERIPH_FAILURE;
 301:./BSP/ST/stm32h747i_discovery_sdram.c ****     }
 302:./BSP/ST/stm32h747i_discovery_sdram.c ****     else
 303:./BSP/ST/stm32h747i_discovery_sdram.c ****     {
 304:./BSP/ST/stm32h747i_discovery_sdram.c ****       IsMspCallbacksValid = 1;
 305:./BSP/ST/stm32h747i_discovery_sdram.c ****     }
 306:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 307:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Return BSP status */
 308:./BSP/ST/stm32h747i_discovery_sdram.c ****   return ret;
 309:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 310:./BSP/ST/stm32h747i_discovery_sdram.c **** #endif /* (USE_HAL_SDRAM_REGISTER_CALLBACKS == 1) */
 311:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 312:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 313:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief  Sends command to the SDRAM bank.
 314:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param  Instance  SDRAM Instance
 315:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param  SdramCmd  Pointer to SDRAM command structure
 316:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval BSP status
 317:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 318:./BSP/ST/stm32h747i_discovery_sdram.c **** int32_t BSP_SDRAM_SendCmd(uint32_t Instance, FMC_SDRAM_CommandTypeDef *SdramCmd)
 319:./BSP/ST/stm32h747i_discovery_sdram.c **** {
 359              		.loc 1 319 1
 360              		.cfi_startproc
 361              		@ args = 0, pretend = 0, frame = 16
 362              		@ frame_needed = 1, uses_anonymous_args = 0
 363 0000 80B5     		push	{r7, lr}
 364              	.LCFI15:
 365              		.cfi_def_cfa_offset 8
 366              		.cfi_offset 7, -8
 367              		.cfi_offset 14, -4
 368 0002 84B0     		sub	sp, sp, #16
 369              	.LCFI16:
 370              		.cfi_def_cfa_offset 24
 371 0004 00AF     		add	r7, sp, #0
 372              	.LCFI17:
ARM GAS  /tmp/cceZwVKO.s 			page 13


 373              		.cfi_def_cfa_register 7
 374 0006 7860     		str	r0, [r7, #4]
 375 0008 3960     		str	r1, [r7]
 320:./BSP/ST/stm32h747i_discovery_sdram.c ****   int32_t ret;
 321:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 322:./BSP/ST/stm32h747i_discovery_sdram.c ****   if(Instance >=SDRAM_INSTANCES_NBR)
 376              		.loc 1 322 5
 377 000a 7B68     		ldr	r3, [r7, #4]
 378 000c 002B     		cmp	r3, #0
 379 000e 03D0     		beq	.L22
 323:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 324:./BSP/ST/stm32h747i_discovery_sdram.c ****     ret =  BSP_ERROR_WRONG_PARAM;
 380              		.loc 1 324 9
 381 0010 6FF00103 		mvn	r3, #1
 382 0014 FB60     		str	r3, [r7, #12]
 383 0016 12E0     		b	.L23
 384              	.L22:
 325:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 326:./BSP/ST/stm32h747i_discovery_sdram.c ****   else if(IS42S32800J_Sendcmd(&hsdram[Instance], SdramCmd) != IS42S32800J_OK)
 385              		.loc 1 326 11
 386 0018 7B68     		ldr	r3, [r7, #4]
 387 001a 3422     		movs	r2, #52
 388 001c 02FB03F3 		mul	r3, r2, r3
 389 0020 094A     		ldr	r2, .L26
 390 0022 1344     		add	r3, r3, r2
 391 0024 3968     		ldr	r1, [r7]
 392 0026 1846     		mov	r0, r3
 393 0028 FFF7FEFF 		bl	IS42S32800J_Sendcmd
 394 002c 0346     		mov	r3, r0
 395              		.loc 1 326 10
 396 002e 002B     		cmp	r3, #0
 397 0030 03D0     		beq	.L24
 327:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 328:./BSP/ST/stm32h747i_discovery_sdram.c ****     ret = BSP_ERROR_PERIPH_FAILURE;
 398              		.loc 1 328 9
 399 0032 6FF00303 		mvn	r3, #3
 400 0036 FB60     		str	r3, [r7, #12]
 401 0038 01E0     		b	.L23
 402              	.L24:
 329:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 330:./BSP/ST/stm32h747i_discovery_sdram.c ****   else
 331:./BSP/ST/stm32h747i_discovery_sdram.c ****   {
 332:./BSP/ST/stm32h747i_discovery_sdram.c ****     ret = BSP_ERROR_NONE;
 403              		.loc 1 332 9
 404 003a 0023     		movs	r3, #0
 405 003c FB60     		str	r3, [r7, #12]
 406              	.L23:
 333:./BSP/ST/stm32h747i_discovery_sdram.c ****   }
 334:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 335:./BSP/ST/stm32h747i_discovery_sdram.c ****   return ret;
 407              		.loc 1 335 10
 408 003e FB68     		ldr	r3, [r7, #12]
 336:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 409              		.loc 1 336 1
 410 0040 1846     		mov	r0, r3
 411 0042 1037     		adds	r7, r7, #16
 412              	.LCFI18:
ARM GAS  /tmp/cceZwVKO.s 			page 14


 413              		.cfi_def_cfa_offset 8
 414 0044 BD46     		mov	sp, r7
 415              	.LCFI19:
 416              		.cfi_def_cfa_register 13
 417              		@ sp needed
 418 0046 80BD     		pop	{r7, pc}
 419              	.L27:
 420              		.align	2
 421              	.L26:
 422 0048 00000000 		.word	hsdram
 423              		.cfi_endproc
 424              	.LFE334:
 426              		.section	.text.BSP_SDRAM_IRQHandler,"ax",%progbits
 427              		.align	1
 428              		.global	BSP_SDRAM_IRQHandler
 429              		.syntax unified
 430              		.thumb
 431              		.thumb_func
 432              		.fpu fpv5-d16
 434              	BSP_SDRAM_IRQHandler:
 435              	.LFB335:
 337:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 338:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 339:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief  This function handles MDMA_MDMA_Channel0 for SDRAM interrupt request.
 340:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval None
 341:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 342:./BSP/ST/stm32h747i_discovery_sdram.c **** void BSP_SDRAM_IRQHandler(uint32_t Instance)
 343:./BSP/ST/stm32h747i_discovery_sdram.c **** {
 436              		.loc 1 343 1
 437              		.cfi_startproc
 438              		@ args = 0, pretend = 0, frame = 8
 439              		@ frame_needed = 1, uses_anonymous_args = 0
 440 0000 80B5     		push	{r7, lr}
 441              	.LCFI20:
 442              		.cfi_def_cfa_offset 8
 443              		.cfi_offset 7, -8
 444              		.cfi_offset 14, -4
 445 0002 82B0     		sub	sp, sp, #8
 446              	.LCFI21:
 447              		.cfi_def_cfa_offset 16
 448 0004 00AF     		add	r7, sp, #0
 449              	.LCFI22:
 450              		.cfi_def_cfa_register 7
 451 0006 7860     		str	r0, [r7, #4]
 344:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Prevent unused argument(s) compilation warning */
 345:./BSP/ST/stm32h747i_discovery_sdram.c ****   UNUSED(Instance);
 346:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 347:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_MDMA_IRQHandler(hsdram[Instance].hmdma);
 452              		.loc 1 347 3
 453 0008 074A     		ldr	r2, .L29
 454 000a 7B68     		ldr	r3, [r7, #4]
 455 000c 3421     		movs	r1, #52
 456 000e 01FB03F3 		mul	r3, r1, r3
 457 0012 1344     		add	r3, r3, r2
 458 0014 3033     		adds	r3, r3, #48
 459 0016 1B68     		ldr	r3, [r3]
 460 0018 1846     		mov	r0, r3
ARM GAS  /tmp/cceZwVKO.s 			page 15


 461 001a FFF7FEFF 		bl	HAL_MDMA_IRQHandler
 348:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 462              		.loc 1 348 1
 463 001e 00BF     		nop
 464 0020 0837     		adds	r7, r7, #8
 465              	.LCFI23:
 466              		.cfi_def_cfa_offset 8
 467 0022 BD46     		mov	sp, r7
 468              	.LCFI24:
 469              		.cfi_def_cfa_register 13
 470              		@ sp needed
 471 0024 80BD     		pop	{r7, pc}
 472              	.L30:
 473 0026 00BF     		.align	2
 474              	.L29:
 475 0028 00000000 		.word	hsdram
 476              		.cfi_endproc
 477              	.LFE335:
 479              		.section	.text.SDRAM_MspInit,"ax",%progbits
 480              		.align	1
 481              		.syntax unified
 482              		.thumb
 483              		.thumb_func
 484              		.fpu fpv5-d16
 486              	SDRAM_MspInit:
 487              	.LFB336:
 349:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 350:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @}
 351:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 352:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 353:./BSP/ST/stm32h747i_discovery_sdram.c **** /** @defgroup STM32H747I_DISCO_SDRAM_Private_Functions Private Functions
 354:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @{
 355:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 356:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 357:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief  Initializes SDRAM MSP.
 358:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param  hsdram SDRAM handle
 359:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval None
 360:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 361:./BSP/ST/stm32h747i_discovery_sdram.c **** static void SDRAM_MspInit(SDRAM_HandleTypeDef  *hsdram)
 362:./BSP/ST/stm32h747i_discovery_sdram.c **** {
 488              		.loc 1 362 1
 489              		.cfi_startproc
 490              		@ args = 0, pretend = 0, frame = 64
 491              		@ frame_needed = 1, uses_anonymous_args = 0
 492 0000 80B5     		push	{r7, lr}
 493              	.LCFI25:
 494              		.cfi_def_cfa_offset 8
 495              		.cfi_offset 7, -8
 496              		.cfi_offset 14, -4
 497 0002 90B0     		sub	sp, sp, #64
 498              	.LCFI26:
 499              		.cfi_def_cfa_offset 72
 500 0004 00AF     		add	r7, sp, #0
 501              	.LCFI27:
 502              		.cfi_def_cfa_register 7
 503 0006 7860     		str	r0, [r7, #4]
 504              	.LBB2:
ARM GAS  /tmp/cceZwVKO.s 			page 16


 363:./BSP/ST/stm32h747i_discovery_sdram.c ****   static MDMA_HandleTypeDef mdma_handle;
 364:./BSP/ST/stm32h747i_discovery_sdram.c ****   GPIO_InitTypeDef gpio_init_structure;
 365:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 366:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Enable FMC clock */
 367:./BSP/ST/stm32h747i_discovery_sdram.c ****   __HAL_RCC_FMC_CLK_ENABLE();
 505              		.loc 1 367 3
 506 0008 7F4B     		ldr	r3, .L32
 507 000a D3F8D430 		ldr	r3, [r3, #212]
 508 000e 7E4A     		ldr	r2, .L32
 509 0010 43F48053 		orr	r3, r3, #4096
 510 0014 C2F8D430 		str	r3, [r2, #212]
 511 0018 7B4B     		ldr	r3, .L32
 512 001a D3F8D430 		ldr	r3, [r3, #212]
 513 001e 03F48053 		and	r3, r3, #4096
 514 0022 BB62     		str	r3, [r7, #40]
 515 0024 BB6A     		ldr	r3, [r7, #40]
 516              	.LBE2:
 517              	.LBB3:
 368:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 369:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Enable chosen MDMAx clock */
 370:./BSP/ST/stm32h747i_discovery_sdram.c ****   SDRAM_MDMAx_CLK_ENABLE();
 518              		.loc 1 370 3
 519 0026 784B     		ldr	r3, .L32
 520 0028 D3F8D430 		ldr	r3, [r3, #212]
 521 002c 764A     		ldr	r2, .L32
 522 002e 43F00103 		orr	r3, r3, #1
 523 0032 C2F8D430 		str	r3, [r2, #212]
 524 0036 744B     		ldr	r3, .L32
 525 0038 D3F8D430 		ldr	r3, [r3, #212]
 526 003c 03F00103 		and	r3, r3, #1
 527 0040 7B62     		str	r3, [r7, #36]
 528 0042 7B6A     		ldr	r3, [r7, #36]
 529              	.LBE3:
 530              	.LBB4:
 371:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 372:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Enable GPIOs clock */
 373:./BSP/ST/stm32h747i_discovery_sdram.c ****   __HAL_RCC_GPIOD_CLK_ENABLE();
 531              		.loc 1 373 3
 532 0044 704B     		ldr	r3, .L32
 533 0046 D3F8E030 		ldr	r3, [r3, #224]
 534 004a 6F4A     		ldr	r2, .L32
 535 004c 43F00803 		orr	r3, r3, #8
 536 0050 C2F8E030 		str	r3, [r2, #224]
 537 0054 6C4B     		ldr	r3, .L32
 538 0056 D3F8E030 		ldr	r3, [r3, #224]
 539 005a 03F00803 		and	r3, r3, #8
 540 005e 3B62     		str	r3, [r7, #32]
 541 0060 3B6A     		ldr	r3, [r7, #32]
 542              	.LBE4:
 543              	.LBB5:
 374:./BSP/ST/stm32h747i_discovery_sdram.c ****   __HAL_RCC_GPIOE_CLK_ENABLE();
 544              		.loc 1 374 3
 545 0062 694B     		ldr	r3, .L32
 546 0064 D3F8E030 		ldr	r3, [r3, #224]
 547 0068 674A     		ldr	r2, .L32
 548 006a 43F01003 		orr	r3, r3, #16
 549 006e C2F8E030 		str	r3, [r2, #224]
ARM GAS  /tmp/cceZwVKO.s 			page 17


 550 0072 654B     		ldr	r3, .L32
 551 0074 D3F8E030 		ldr	r3, [r3, #224]
 552 0078 03F01003 		and	r3, r3, #16
 553 007c FB61     		str	r3, [r7, #28]
 554 007e FB69     		ldr	r3, [r7, #28]
 555              	.LBE5:
 556              	.LBB6:
 375:./BSP/ST/stm32h747i_discovery_sdram.c ****   __HAL_RCC_GPIOF_CLK_ENABLE();
 557              		.loc 1 375 3
 558 0080 614B     		ldr	r3, .L32
 559 0082 D3F8E030 		ldr	r3, [r3, #224]
 560 0086 604A     		ldr	r2, .L32
 561 0088 43F02003 		orr	r3, r3, #32
 562 008c C2F8E030 		str	r3, [r2, #224]
 563 0090 5D4B     		ldr	r3, .L32
 564 0092 D3F8E030 		ldr	r3, [r3, #224]
 565 0096 03F02003 		and	r3, r3, #32
 566 009a BB61     		str	r3, [r7, #24]
 567 009c BB69     		ldr	r3, [r7, #24]
 568              	.LBE6:
 569              	.LBB7:
 376:./BSP/ST/stm32h747i_discovery_sdram.c ****   __HAL_RCC_GPIOG_CLK_ENABLE();
 570              		.loc 1 376 3
 571 009e 5A4B     		ldr	r3, .L32
 572 00a0 D3F8E030 		ldr	r3, [r3, #224]
 573 00a4 584A     		ldr	r2, .L32
 574 00a6 43F04003 		orr	r3, r3, #64
 575 00aa C2F8E030 		str	r3, [r2, #224]
 576 00ae 564B     		ldr	r3, .L32
 577 00b0 D3F8E030 		ldr	r3, [r3, #224]
 578 00b4 03F04003 		and	r3, r3, #64
 579 00b8 7B61     		str	r3, [r7, #20]
 580 00ba 7B69     		ldr	r3, [r7, #20]
 581              	.LBE7:
 582              	.LBB8:
 377:./BSP/ST/stm32h747i_discovery_sdram.c ****   __HAL_RCC_GPIOH_CLK_ENABLE();
 583              		.loc 1 377 3
 584 00bc 524B     		ldr	r3, .L32
 585 00be D3F8E030 		ldr	r3, [r3, #224]
 586 00c2 514A     		ldr	r2, .L32
 587 00c4 43F08003 		orr	r3, r3, #128
 588 00c8 C2F8E030 		str	r3, [r2, #224]
 589 00cc 4E4B     		ldr	r3, .L32
 590 00ce D3F8E030 		ldr	r3, [r3, #224]
 591 00d2 03F08003 		and	r3, r3, #128
 592 00d6 3B61     		str	r3, [r7, #16]
 593 00d8 3B69     		ldr	r3, [r7, #16]
 594              	.LBE8:
 595              	.LBB9:
 378:./BSP/ST/stm32h747i_discovery_sdram.c ****   __HAL_RCC_GPIOI_CLK_ENABLE();
 596              		.loc 1 378 3
 597 00da 4B4B     		ldr	r3, .L32
 598 00dc D3F8E030 		ldr	r3, [r3, #224]
 599 00e0 494A     		ldr	r2, .L32
 600 00e2 43F48073 		orr	r3, r3, #256
 601 00e6 C2F8E030 		str	r3, [r2, #224]
 602 00ea 474B     		ldr	r3, .L32
ARM GAS  /tmp/cceZwVKO.s 			page 18


 603 00ec D3F8E030 		ldr	r3, [r3, #224]
 604 00f0 03F48073 		and	r3, r3, #256
 605 00f4 FB60     		str	r3, [r7, #12]
 606 00f6 FB68     		ldr	r3, [r7, #12]
 607              	.LBE9:
 379:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 380:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Common GPIO configuration */
 381:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Mode      = GPIO_MODE_AF_PP;
 608              		.loc 1 381 33
 609 00f8 0223     		movs	r3, #2
 610 00fa 3B63     		str	r3, [r7, #48]
 382:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Pull      = GPIO_PULLUP;
 611              		.loc 1 382 33
 612 00fc 0123     		movs	r3, #1
 613 00fe 7B63     		str	r3, [r7, #52]
 383:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Speed     = GPIO_SPEED_FREQ_VERY_HIGH;
 614              		.loc 1 383 33
 615 0100 0323     		movs	r3, #3
 616 0102 BB63     		str	r3, [r7, #56]
 384:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Alternate = GPIO_AF12_FMC;
 617              		.loc 1 384 33
 618 0104 0C23     		movs	r3, #12
 619 0106 FB63     		str	r3, [r7, #60]
 385:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 386:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* GPIOD configuration */
 387:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Pin   = GPIO_PIN_0 | GPIO_PIN_1 | GPIO_PIN_8| GPIO_PIN_9 | GPIO_PIN_10 |\
 620              		.loc 1 387 29
 621 0108 4CF20373 		movw	r3, #50947
 622 010c FB62     		str	r3, [r7, #44]
 388:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_14 | GPIO_PIN_15;
 389:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 390:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOD, &gpio_init_structure);
 623              		.loc 1 390 3
 624 010e 07F12C03 		add	r3, r7, #44
 625 0112 1946     		mov	r1, r3
 626 0114 3D48     		ldr	r0, .L32+4
 627 0116 FFF7FEFF 		bl	HAL_GPIO_Init
 391:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 392:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* GPIOE configuration */
 393:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Pin   = GPIO_PIN_0 | GPIO_PIN_1 | GPIO_PIN_7| GPIO_PIN_8 | GPIO_PIN_9 |\
 628              		.loc 1 393 29
 629 011a 4FF68373 		movw	r3, #65411
 630 011e FB62     		str	r3, [r7, #44]
 394:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_10 | GPIO_PIN_11 | GPIO_PIN_12 | GPIO_PIN_13 | GPIO_PIN_14 |
 395:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_15;
 396:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 397:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOE, &gpio_init_structure);
 631              		.loc 1 397 3
 632 0120 07F12C03 		add	r3, r7, #44
 633 0124 1946     		mov	r1, r3
 634 0126 3A48     		ldr	r0, .L32+8
 635 0128 FFF7FEFF 		bl	HAL_GPIO_Init
 398:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* GPIOF configuration */
 399:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Pin   = GPIO_PIN_0 | GPIO_PIN_1 | GPIO_PIN_2| GPIO_PIN_3 | GPIO_PIN_4 |\
 636              		.loc 1 399 29
 637 012c 4FF63F03 		movw	r3, #63551
 638 0130 FB62     		str	r3, [r7, #44]
ARM GAS  /tmp/cceZwVKO.s 			page 19


 400:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_5 | GPIO_PIN_11 | GPIO_PIN_12 | GPIO_PIN_13 | GPIO_PIN_14 |\
 401:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_15;
 402:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 403:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOF, &gpio_init_structure);
 639              		.loc 1 403 3
 640 0132 07F12C03 		add	r3, r7, #44
 641 0136 1946     		mov	r1, r3
 642 0138 3648     		ldr	r0, .L32+12
 643 013a FFF7FEFF 		bl	HAL_GPIO_Init
 404:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* GPIOG configuration */
 405:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Pin   = GPIO_PIN_0 | GPIO_PIN_1 | GPIO_PIN_2 /*| GPIO_PIN_3 */|\
 644              		.loc 1 405 29
 645 013e 48F23713 		movw	r3, #33079
 646 0142 FB62     		str	r3, [r7, #44]
 406:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_4 | GPIO_PIN_5 | GPIO_PIN_8 | GPIO_PIN_15;
 407:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOG, &gpio_init_structure);
 647              		.loc 1 407 3
 648 0144 07F12C03 		add	r3, r7, #44
 649 0148 1946     		mov	r1, r3
 650 014a 3348     		ldr	r0, .L32+16
 651 014c FFF7FEFF 		bl	HAL_GPIO_Init
 408:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 409:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* GPIOH configuration */
 410:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Pin   = GPIO_PIN_5 | GPIO_PIN_6 | GPIO_PIN_7 | GPIO_PIN_8 | GPIO_PIN_9 |\
 652              		.loc 1 410 29
 653 0150 4FF6E073 		movw	r3, #65504
 654 0154 FB62     		str	r3, [r7, #44]
 411:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_10 | GPIO_PIN_11 | GPIO_PIN_12 | GPIO_PIN_13 | GPIO_PIN_14 |
 412:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_15;
 413:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 414:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOH, &gpio_init_structure);
 655              		.loc 1 414 3
 656 0156 07F12C03 		add	r3, r7, #44
 657 015a 1946     		mov	r1, r3
 658 015c 2F48     		ldr	r0, .L32+20
 659 015e FFF7FEFF 		bl	HAL_GPIO_Init
 415:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 416:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* GPIOI configuration */
 417:./BSP/ST/stm32h747i_discovery_sdram.c ****   gpio_init_structure.Pin   = GPIO_PIN_0 | GPIO_PIN_1 | GPIO_PIN_2 | GPIO_PIN_3 | GPIO_PIN_4 |\
 660              		.loc 1 417 29
 661 0162 40F2FF63 		movw	r3, #1791
 662 0166 FB62     		str	r3, [r7, #44]
 418:./BSP/ST/stm32h747i_discovery_sdram.c ****                               GPIO_PIN_5 | GPIO_PIN_6 | GPIO_PIN_7 | GPIO_PIN_9 | GPIO_PIN_10;
 419:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 420:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOI, &gpio_init_structure);
 663              		.loc 1 420 3
 664 0168 07F12C03 		add	r3, r7, #44
 665 016c 1946     		mov	r1, r3
 666 016e 2C48     		ldr	r0, .L32+24
 667 0170 FFF7FEFF 		bl	HAL_GPIO_Init
 421:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 422:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Configure common MDMA parameters */
 423:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.Request                  = MDMA_REQUEST_SW;
 668              		.loc 1 423 45
 669 0174 2B4B     		ldr	r3, .L32+28
 670 0176 4FF08042 		mov	r2, #1073741824
 671 017a 5A60     		str	r2, [r3, #4]
ARM GAS  /tmp/cceZwVKO.s 			page 20


 424:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.TransferTriggerMode      = MDMA_BLOCK_TRANSFER;
 672              		.loc 1 424 45
 673 017c 294B     		ldr	r3, .L32+28
 674 017e 4FF08052 		mov	r2, #268435456
 675 0182 9A60     		str	r2, [r3, #8]
 425:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.Priority                 = MDMA_PRIORITY_HIGH;
 676              		.loc 1 425 45
 677 0184 274B     		ldr	r3, .L32+28
 678 0186 8022     		movs	r2, #128
 679 0188 DA60     		str	r2, [r3, #12]
 426:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.Endianness               = MDMA_LITTLE_ENDIANNESS_PRESERVE;
 680              		.loc 1 426 45
 681 018a 264B     		ldr	r3, .L32+28
 682 018c 0022     		movs	r2, #0
 683 018e 1A61     		str	r2, [r3, #16]
 427:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.SourceInc                = MDMA_SRC_INC_WORD;
 684              		.loc 1 427 45
 685 0190 244B     		ldr	r3, .L32+28
 686 0192 40F20222 		movw	r2, #514
 687 0196 5A61     		str	r2, [r3, #20]
 428:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.DestinationInc           = MDMA_DEST_INC_WORD;
 688              		.loc 1 428 45
 689 0198 224B     		ldr	r3, .L32+28
 690 019a 40F60802 		movw	r2, #2056
 691 019e 9A61     		str	r2, [r3, #24]
 429:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.SourceDataSize           = MDMA_SRC_DATASIZE_WORD;
 692              		.loc 1 429 45
 693 01a0 204B     		ldr	r3, .L32+28
 694 01a2 2022     		movs	r2, #32
 695 01a4 DA61     		str	r2, [r3, #28]
 430:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.DestDataSize             = MDMA_DEST_DATASIZE_WORD;
 696              		.loc 1 430 45
 697 01a6 1F4B     		ldr	r3, .L32+28
 698 01a8 8022     		movs	r2, #128
 699 01aa 1A62     		str	r2, [r3, #32]
 431:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.DataAlignment            = MDMA_DATAALIGN_PACKENABLE;
 700              		.loc 1 431 45
 701 01ac 1D4B     		ldr	r3, .L32+28
 702 01ae 4FF00072 		mov	r2, #33554432
 703 01b2 5A62     		str	r2, [r3, #36]
 432:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.SourceBurst              = MDMA_SOURCE_BURST_SINGLE;
 704              		.loc 1 432 45
 705 01b4 1B4B     		ldr	r3, .L32+28
 706 01b6 0022     		movs	r2, #0
 707 01b8 DA62     		str	r2, [r3, #44]
 433:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.DestBurst                = MDMA_DEST_BURST_SINGLE;
 708              		.loc 1 433 45
 709 01ba 1A4B     		ldr	r3, .L32+28
 710 01bc 0022     		movs	r2, #0
 711 01be 1A63     		str	r2, [r3, #48]
 434:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.BufferTransferLength     = 128;
 712              		.loc 1 434 45
 713 01c0 184B     		ldr	r3, .L32+28
 714 01c2 8022     		movs	r2, #128
 715 01c4 9A62     		str	r2, [r3, #40]
 435:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.SourceBlockAddressOffset = 0;
 716              		.loc 1 435 45
ARM GAS  /tmp/cceZwVKO.s 			page 21


 717 01c6 174B     		ldr	r3, .L32+28
 718 01c8 0022     		movs	r2, #0
 719 01ca 5A63     		str	r2, [r3, #52]
 436:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Init.DestBlockAddressOffset   = 0;
 720              		.loc 1 436 45
 721 01cc 154B     		ldr	r3, .L32+28
 722 01ce 0022     		movs	r2, #0
 723 01d0 9A63     		str	r2, [r3, #56]
 437:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Instance                      = SDRAM_MDMAx_CHANNEL;
 724              		.loc 1 437 45
 725 01d2 144B     		ldr	r3, .L32+28
 726 01d4 144A     		ldr	r2, .L32+32
 727 01d6 1A60     		str	r2, [r3]
 438:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 439:./BSP/ST/stm32h747i_discovery_sdram.c ****    /* Associate the MDMA handle */
 440:./BSP/ST/stm32h747i_discovery_sdram.c ****   __HAL_LINKDMA(hsdram, hmdma, mdma_handle);
 728              		.loc 1 440 3
 729 01d8 7B68     		ldr	r3, [r7, #4]
 730 01da 124A     		ldr	r2, .L32+28
 731 01dc 1A63     		str	r2, [r3, #48]
 732 01de 114A     		ldr	r2, .L32+28
 733 01e0 7B68     		ldr	r3, [r7, #4]
 734 01e2 1364     		str	r3, [r2, #64]
 441:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 442:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Deinitialize the stream for new transfer */
 443:./BSP/ST/stm32h747i_discovery_sdram.c ****   (void)HAL_MDMA_DeInit(&mdma_handle);
 735              		.loc 1 443 9
 736 01e4 0F48     		ldr	r0, .L32+28
 737 01e6 FFF7FEFF 		bl	HAL_MDMA_DeInit
 444:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 445:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Configure the MDMA stream */
 446:./BSP/ST/stm32h747i_discovery_sdram.c ****   (void)HAL_MDMA_Init(&mdma_handle);
 738              		.loc 1 446 9
 739 01ea 0E48     		ldr	r0, .L32+28
 740 01ec FFF7FEFF 		bl	HAL_MDMA_Init
 447:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 448:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* NVIC configuration for DMA transfer complete interrupt */
 449:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_NVIC_SetPriority(SDRAM_MDMAx_IRQn, BSP_SDRAM_IT_PRIORITY, 0);
 741              		.loc 1 449 3
 742 01f0 0022     		movs	r2, #0
 743 01f2 0F21     		movs	r1, #15
 744 01f4 7A20     		movs	r0, #122
 745 01f6 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 450:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_NVIC_EnableIRQ(SDRAM_MDMAx_IRQn);
 746              		.loc 1 450 3
 747 01fa 7A20     		movs	r0, #122
 748 01fc FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 451:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 749              		.loc 1 451 1
 750 0200 00BF     		nop
 751 0202 4037     		adds	r7, r7, #64
 752              	.LCFI28:
 753              		.cfi_def_cfa_offset 8
 754 0204 BD46     		mov	sp, r7
 755              	.LCFI29:
 756              		.cfi_def_cfa_register 13
 757              		@ sp needed
ARM GAS  /tmp/cceZwVKO.s 			page 22


 758 0206 80BD     		pop	{r7, pc}
 759              	.L33:
 760              		.align	2
 761              	.L32:
 762 0208 00440258 		.word	1476543488
 763 020c 000C0258 		.word	1476529152
 764 0210 00100258 		.word	1476530176
 765 0214 00140258 		.word	1476531200
 766 0218 00180258 		.word	1476532224
 767 021c 001C0258 		.word	1476533248
 768 0220 00200258 		.word	1476534272
 769 0224 00000000 		.word	mdma_handle.12226
 770 0228 40000052 		.word	1375731776
 771              		.cfi_endproc
 772              	.LFE336:
 774              		.section	.text.SDRAM_MspDeInit,"ax",%progbits
 775              		.align	1
 776              		.syntax unified
 777              		.thumb
 778              		.thumb_func
 779              		.fpu fpv5-d16
 781              	SDRAM_MspDeInit:
 782              	.LFB337:
 452:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 453:./BSP/ST/stm32h747i_discovery_sdram.c **** /**
 454:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @brief  DeInitializes SDRAM MSP.
 455:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @param  hsdram SDRAM handle
 456:./BSP/ST/stm32h747i_discovery_sdram.c ****   * @retval None
 457:./BSP/ST/stm32h747i_discovery_sdram.c ****   */
 458:./BSP/ST/stm32h747i_discovery_sdram.c **** static void SDRAM_MspDeInit(SDRAM_HandleTypeDef  *hsdram)
 459:./BSP/ST/stm32h747i_discovery_sdram.c **** {
 783              		.loc 1 459 1
 784              		.cfi_startproc
 785              		@ args = 0, pretend = 0, frame = 8
 786              		@ frame_needed = 1, uses_anonymous_args = 0
 787 0000 80B5     		push	{r7, lr}
 788              	.LCFI30:
 789              		.cfi_def_cfa_offset 8
 790              		.cfi_offset 7, -8
 791              		.cfi_offset 14, -4
 792 0002 82B0     		sub	sp, sp, #8
 793              	.LCFI31:
 794              		.cfi_def_cfa_offset 16
 795 0004 00AF     		add	r7, sp, #0
 796              	.LCFI32:
 797              		.cfi_def_cfa_register 7
 798 0006 7860     		str	r0, [r7, #4]
 460:./BSP/ST/stm32h747i_discovery_sdram.c ****   static MDMA_HandleTypeDef mdma_handle;
 461:./BSP/ST/stm32h747i_discovery_sdram.c **** 
 462:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Prevent unused argument(s) compilation warning */
 463:./BSP/ST/stm32h747i_discovery_sdram.c ****   UNUSED(hsdram);
 464:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Disable NVIC configuration for MDMA interrupt */
 465:./BSP/ST/stm32h747i_discovery_sdram.c ****   HAL_NVIC_DisableIRQ(SDRAM_MDMAx_IRQn);
 799              		.loc 1 465 3
 800 0008 7A20     		movs	r0, #122
 801 000a FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 466:./BSP/ST/stm32h747i_discovery_sdram.c **** 
ARM GAS  /tmp/cceZwVKO.s 			page 23


 467:./BSP/ST/stm32h747i_discovery_sdram.c ****   /* Deinitialize the stream for new transfer */
 468:./BSP/ST/stm32h747i_discovery_sdram.c ****   mdma_handle.Instance = SDRAM_MDMAx_CHANNEL;
 802              		.loc 1 468 24
 803 000e 054B     		ldr	r3, .L35
 804 0010 054A     		ldr	r2, .L35+4
 805 0012 1A60     		str	r2, [r3]
 469:./BSP/ST/stm32h747i_discovery_sdram.c ****   (void)HAL_MDMA_DeInit(&mdma_handle);
 806              		.loc 1 469 9
 807 0014 0348     		ldr	r0, .L35
 808 0016 FFF7FEFF 		bl	HAL_MDMA_DeInit
 470:./BSP/ST/stm32h747i_discovery_sdram.c **** }
 809              		.loc 1 470 1
 810 001a 00BF     		nop
 811 001c 0837     		adds	r7, r7, #8
 812              	.LCFI33:
 813              		.cfi_def_cfa_offset 8
 814 001e BD46     		mov	sp, r7
 815              	.LCFI34:
 816              		.cfi_def_cfa_register 13
 817              		@ sp needed
 818 0020 80BD     		pop	{r7, pc}
 819              	.L36:
 820 0022 00BF     		.align	2
 821              	.L35:
 822 0024 00000000 		.word	mdma_handle.12239
 823 0028 40000052 		.word	1375731776
 824              		.cfi_endproc
 825              	.LFE337:
 827              		.section	.bss.pRegMode.12206,"aw",%nobits
 828              		.align	2
 831              	pRegMode.12206:
 832 0000 00000000 		.space	32
 832      00000000 
 832      00000000 
 832      00000000 
 832      00000000 
 833              		.section	.bss.mdma_handle.12226,"aw",%nobits
 834              		.align	2
 837              	mdma_handle.12226:
 838 0000 00000000 		.space	108
 838      00000000 
 838      00000000 
 838      00000000 
 838      00000000 
 839              		.section	.bss.mdma_handle.12239,"aw",%nobits
 840              		.align	2
 843              	mdma_handle.12239:
 844 0000 00000000 		.space	108
 844      00000000 
 844      00000000 
 844      00000000 
 844      00000000 
 845              		.text
 846              	.Letext0:
 847              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 848              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 849              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
ARM GAS  /tmp/cceZwVKO.s 			page 24


 850              		.file 5 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/stm32h747xx.h"
 851              		.file 6 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 852              		.file 7 "/usr/include/newlib/sys/_types.h"
 853              		.file 8 "/usr/include/newlib/sys/reent.h"
 854              		.file 9 "/usr/include/newlib/sys/lock.h"
 855              		.file 10 "/usr/include/newlib/math.h"
 856              		.file 11 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 857              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 858              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_mdma.h"
 859              		.file 14 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 860              		.file 15 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_ll_fmc.h"
 861              		.file 16 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_sdram.h"
 862              		.file 17 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 863              		.file 18 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 864              		.file 19 "./BSP/ST/../Components/is42s32800j/is42s32800j.h"
 865              		.file 20 "./BSP/ST/stm32h747i_discovery_sdram.h"
ARM GAS  /tmp/cceZwVKO.s 			page 25


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32h747i_discovery_sdram.c
                            *COM*:0000000000000034 hsdram
     /tmp/cceZwVKO.s:18     .text.BSP_SDRAM_Init:0000000000000000 $t
     /tmp/cceZwVKO.s:26     .text.BSP_SDRAM_Init:0000000000000000 BSP_SDRAM_Init
     /tmp/cceZwVKO.s:486    .text.SDRAM_MspInit:0000000000000000 SDRAM_MspInit
     /tmp/cceZwVKO.s:232    .text.MX_SDRAM_Init:0000000000000000 MX_SDRAM_Init
     /tmp/cceZwVKO.s:133    .text.BSP_SDRAM_Init:0000000000000088 $d
     /tmp/cceZwVKO.s:831    .bss.pRegMode.12206:0000000000000000 pRegMode.12206
     /tmp/cceZwVKO.s:139    .text.BSP_SDRAM_DeInit:0000000000000000 $t
     /tmp/cceZwVKO.s:146    .text.BSP_SDRAM_DeInit:0000000000000000 BSP_SDRAM_DeInit
     /tmp/cceZwVKO.s:781    .text.SDRAM_MspDeInit:0000000000000000 SDRAM_MspDeInit
     /tmp/cceZwVKO.s:219    .text.BSP_SDRAM_DeInit:000000000000005c $d
     /tmp/cceZwVKO.s:225    .text.MX_SDRAM_Init:0000000000000000 $t
     /tmp/cceZwVKO.s:344    .text.MX_SDRAM_Init:000000000000008c $d
     /tmp/cceZwVKO.s:350    .text.BSP_SDRAM_SendCmd:0000000000000000 $t
     /tmp/cceZwVKO.s:357    .text.BSP_SDRAM_SendCmd:0000000000000000 BSP_SDRAM_SendCmd
     /tmp/cceZwVKO.s:422    .text.BSP_SDRAM_SendCmd:0000000000000048 $d
     /tmp/cceZwVKO.s:427    .text.BSP_SDRAM_IRQHandler:0000000000000000 $t
     /tmp/cceZwVKO.s:434    .text.BSP_SDRAM_IRQHandler:0000000000000000 BSP_SDRAM_IRQHandler
     /tmp/cceZwVKO.s:475    .text.BSP_SDRAM_IRQHandler:0000000000000028 $d
     /tmp/cceZwVKO.s:480    .text.SDRAM_MspInit:0000000000000000 $t
     /tmp/cceZwVKO.s:762    .text.SDRAM_MspInit:0000000000000208 $d
     /tmp/cceZwVKO.s:837    .bss.mdma_handle.12226:0000000000000000 mdma_handle.12226
     /tmp/cceZwVKO.s:775    .text.SDRAM_MspDeInit:0000000000000000 $t
     /tmp/cceZwVKO.s:822    .text.SDRAM_MspDeInit:0000000000000024 $d
     /tmp/cceZwVKO.s:843    .bss.mdma_handle.12239:0000000000000000 mdma_handle.12239
     /tmp/cceZwVKO.s:828    .bss.pRegMode.12206:0000000000000000 $d
     /tmp/cceZwVKO.s:834    .bss.mdma_handle.12226:0000000000000000 $d
     /tmp/cceZwVKO.s:840    .bss.mdma_handle.12239:0000000000000000 $d

UNDEFINED SYMBOLS
IS42S32800J_Init
HAL_SDRAM_DeInit
HAL_SDRAM_Init
IS42S32800J_Sendcmd
HAL_MDMA_IRQHandler
HAL_GPIO_Init
HAL_MDMA_DeInit
HAL_MDMA_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_NVIC_DisableIRQ
